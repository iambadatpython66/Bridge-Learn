<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BridgeLearn - Modern Learning Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --success-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --warning-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --dark-gradient: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            
            /* Light Theme */
            --bg-primary: #f8fafc;
            --bg-secondary: #f1f5f9;
            --card-bg: #ffffff;
            --text-primary: #1a202c;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --border-color: #e2e8f0;

            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        html.dark {
             /* Dark Theme */
            --bg-primary: #1a202c;
            --bg-secondary: #2d3748;
            --card-bg: #2d3748;
            --text-primary: #f7fafc;
            --text-secondary: #a0aec0;
            --text-muted: #718096;
            --border-color: #4a5568;

            --shadow-sm: 0 1px 3px 0 rgba(0,0,0,0.3), 0 1px 2px 0 rgba(0,0,0,0.25);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.3), 0 2px 4px -1px rgba(0,0,0,0.25);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.3), 0 4px 6px -2px rgba(0,0,0,0.25);
            --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.3), 0 10px 10px -5px rgba(0,0,0,0.25);
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        * {
            font-family: 'Poppins', 'Inter', sans-serif;
        }
        
        .hero-gradient {
            background: var(--primary-gradient);
            position: relative;
            overflow: hidden;
        }

        .hero-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('https://t4.ftcdn.net/jpg/01/19/26/15/360_F_119261573_PBw1J9gmrAWGwCuclNU1KmzpnPcC4vYJ.jpg') center/cover;
            opacity: 0.2;
            z-index: 1;
            animation: backgroundZoom 30s ease-in-out infinite;
        }

        @keyframes backgroundZoom {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .modern-card {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .modern-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
        }

        .modern-card .session-card-icon i, .about-feature-icon i {
            transition: transform 0.3s ease;
        }

        .modern-card:hover .session-card-icon i, .modern-card:hover .about-feature-icon i {
             transform: scale(1.1) rotate(-10deg);
        }
        
        .gradient-text {
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .btn-primary {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn-secondary {
            background: var(--secondary-gradient);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-sm);
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .arabic-text {
            font-family: 'Amiri', serif;
            direction: rtl;
        }
        
        .modern-accent {
            border-left: 4px solid;
            border-image: var(--primary-gradient) 1;
        }
        
        /* Mobile Navigation */
        .mobile-menu {
            display: none;
        }
        
        @media (max-width: 768px) {
            .mobile-menu {
                display: block;
            }
            
            .desktop-menu {
                display: none;
            }
        }
        
        /* Chatbot Styles */
        .chatbot-pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .chatbot-message {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Mobile Responsive */
        @media (max-width: 640px) {
            .hero-title {
                font-size: 2.5rem;
                line-height: 1.2;
            }
            
            .hero-subtitle {
                font-size: 1.125rem;
                line-height: 1.5;
            }
            
            .mobile-stack {
                flex-direction: column;
                gap: 1rem;
            }
            
            .mobile-full {
                width: 100%;
            }
            
            .mobile-padding {
                padding: 1rem;
            }
            
            .mobile-text-center {
                text-align: center;
            }
        }
        
        /* Enhanced Mobile Styles for Portrait */
        @media (max-width: 768px) {
            /* Navigation */
            .nav-brand h1 {
                font-size: 1.5rem;
            }
            
            .nav-brand p {
                font-size: 0.75rem;
            }
            
            /* Hero Section */
            .hero-title {
                font-size: 2.2rem;
                line-height: 1.1;
                margin-bottom: 1rem;
            }
            
            .hero-subtitle {
                font-size: 1.1rem;
                line-height: 1.4;
                margin-bottom: 2rem;
            }
            
            /* Buttons */
            .btn-primary, .btn-secondary {
                padding: 14px 20px;
                font-size: 1rem;
                min-height: 48px;
            }
            
            /* Cards */
            .modern-card {
                padding: 1.5rem;
                margin-bottom: 1rem;
            }
            
            .modern-card h4 {
                font-size: 1.25rem;
                margin-bottom: 0.75rem;
            }
            
            .modern-card p {
                font-size: 0.95rem;
                line-height: 1.5;
            }
            
            /* Session Cards */
            .session-card-icon {
                width: 3rem;
                height: 3rem;
                margin-bottom: 1rem;
            }
            
            .session-card-icon i {
                font-size: 1.5rem;
            }
            
            /* About Section */
            .about-feature-icon {
                width: 4rem;
                height: 4rem;
                margin-bottom: 1.5rem;
            }
            
            .about-feature-icon i {
                font-size: 2rem;
            }
            
            .about-feature h4 {
                font-size: 1.5rem;
                margin-bottom: 1rem;
            }
            
            .about-feature p {
                font-size: 1rem;
                line-height: 1.6;
            }
            
            /* Modal */
            .modal-content {
                margin: 1rem;
                padding: 1.5rem;
            }
            
            .modal-content h3 {
                font-size: 1.5rem;
            }
            
            .modal-content input,
            .modal-content select {
                padding: 12px 16px;
                font-size: 1rem;
                min-height: 48px;
            }
            
            /* Chatbot */
            .chatbot-button {
                width: 3.5rem;
                height: 3.5rem;
            }
            
            .chatbot-window {
                width: calc(100vw - 2rem);
                height: 70vh;
                max-height: 500px;
            }
            
            /* Text Sizes */
            h1 { font-size: 2rem; }
            h2 { font-size: 1.75rem; }
            h3 { font-size: 1.5rem; }
            h4 { font-size: 1.25rem; }
            
            /* Spacing */
            .section-padding {
                padding: 3rem 1rem;
            }
            
            /* Grid adjustments */
            .mobile-grid-1 {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }
        
        /* Extra small devices */
        @media (max-width: 480px) {
            .hero-title {
                font-size: 1.8rem;
                line-height: 1.1;
            }
            
            .hero-subtitle {
                font-size: 1rem;
                line-height: 1.4;
            }
            
            .btn-primary, .btn-secondary {
                padding: 16px 24px;
                font-size: 1.1rem;
                min-height: 52px;
            }
            
            .modern-card {
                padding: 1.25rem;
            }
            
            .modern-card h4 {
                font-size: 1.1rem;
            }
            
            .modern-card p {
                font-size: 0.9rem;
            }
        }
        
        /* Video Call Page Styles */
        #videoCallPage {
          height: 100vh;
          height: 100dvh; /* Dynamic viewport height for mobile */
        }
        #videoGrid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            width: 100%;
            height: 100%;
        }
        .video-container {
            position: relative;
            background-color: #2d3748; /* gray-800 */
            border-radius: 0.75rem; /* rounded-xl */
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            aspect-ratio: 16 / 9;
        }
        .video-container video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .video-container .participant-name {
            position: absolute;
            bottom: 0.5rem;
            left: 0.5rem;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }
        .video-container .placeholder-icon {
            font-size: 4rem;
            color: #718096; /* gray-500 */
        }
                
        /* Dashboard Mobile Styles */
        @media (max-width: 768px) {
            /* Dashboard Header */
            #dashboard .max-w-6xl {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            /* Dashboard header flex layout */
            #dashboard .flex.justify-between.items-center {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            #dashboard .flex.items-center.space-x-4 {
                flex-wrap: wrap;
                gap: 0.5rem;
                width: 100%;
                justify-content: space-between;
            }
            
            /* Dashboard title */
            #dashboard h1 {
                font-size: 1.5rem;
            }
            
            /* Dashboard content grid */
            #dashboard .grid.md\\:grid-cols-2.lg\\:grid-cols-3 {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            /* Dashboard cards */
            #dashboard .bg-white.rounded-lg.shadow {
                margin-bottom: 1rem;
                padding: 1rem;
            }
            
            #dashboard .bg-white.rounded-lg.shadow .p-6 {
                padding: 1rem;
            }
            
            /* Stats cards */
            #dashboard .flex.items-center i {
                font-size: 2rem;
                margin-right: 1rem;
            }
            
            #dashboard .text-3xl {
                font-size: 1.5rem;
            }
            
            #dashboard .text-2xl {
                font-size: 1.25rem;
            }
            
            /* Session tools grid */
            #dashboard .grid.grid-cols-2 {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
            
            /* Current session mobile layout */
            #dashboard .grid.grid-cols-1.lg\\:grid-cols-2 {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            /* Session info spacing */
            #dashboard .space-y-4 > div {
                margin-bottom: 1rem;
            }
            
            /* Button adjustments */
            #dashboard button {
                font-size: 0.875rem;
                padding: 0.5rem 1rem;
            }
            
            /* Join button */
            #dashboard .w-full.bg-gradient-to-r {
                padding: 1rem;
                font-size: 1rem;
            }
        }
        
        /* Dashboard Extra Small Mobile */
        @media (max-width: 480px) {
            #dashboard .max-w-6xl {
                padding-left: 0.5rem;
                padding-right: 0.5rem;
            }
            
            #dashboard .py-8 {
                padding-top: 1rem;
                padding-bottom: 1rem;
            }
            
            #dashboard .py-4 {
                padding-top: 0.5rem;
                padding-bottom: 0.5rem;
            }
            
            #dashboard h1 {
                font-size: 1.25rem;
            }
            
            #dashboard .text-xl {
                font-size: 1.125rem;
            }
            
            #dashboard .text-lg {
                font-size: 1rem;
            }
            
            /* Mobile session tools */
            #dashboard .grid.grid-cols-2 {
                gap: 0.25rem;
            }
            
            #dashboard .grid.grid-cols-2 button {
                padding: 0.5rem;
                font-size: 0.75rem;
            }
        }

        /* Language selector styling */
        #langSelect, #langSelectMobile {
            background-color: var(--card-bg);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 10px 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%234a5568' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 0.7rem center;
            background-size: 1em;
            padding-right: 2.5rem;
        }

        .dark #langSelect, .dark #langSelectMobile {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        }

        #langSelect option, #langSelectMobile option {
            color: var(--text-primary);
            background-color: var(--card-bg);
        }
        
        #langSelect:hover, #langSelectMobile:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            border-color: #667eea;
        }
        
        /* Mode Selection */
        .mode-card {
            border-radius: 16px;
            padding: 2.5rem;
            text-align: center;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-lg);
        }
        .mode-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: var(--shadow-xl);
        }
        .mode-card i {
            transform: scale(1);
            transition: transform 0.3s ease;
        }
        .mode-card:hover i {
            transform: scale(1.1);
        }
        .teen-mode-card {
            background: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%);
        }
        .mentor-mode-card {
            background: var(--primary-gradient);
        }

        /* Teen Mode Styles */
        #teenModeHeader {
            background: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%);
        }
        .dark #teenDashboard {
            background-color: #111827; /* A darker blue-gray for teen mode */
        }
        #teenDashboard {
            background-color: #eef2f9; /* A cool, light blue-gray */
        }
        .game-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            box-shadow: var(--shadow-md);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-xl);
        }
        .game-card i {
            font-size: 4rem;
            margin-bottom: 1rem;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .game-card h3 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
        }
        
        /* Teen Zone Module Styles */
        .code-editor {
            font-family: 'Courier New', Courier, monospace;
            background-color: #2d3748;
            color: #e2e8f0;
            border: 1px solid #4a5568;
            border-radius: 8px;
            padding: 1rem;
            height: 250px;
            resize: vertical;
        }
        .dark .code-output {
            background-color: #1a202c;
            color: #a0aec0;
        }
        .code-output {
            background-color: #f3f4f6;
            color: #374151;
            font-family: 'Courier New', Courier, monospace;
            padding: 1.5rem;
            border-radius: 8px;
            min-height: 150px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .dark .topic-btn {
            background: var(--card-bg);
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }
        .topic-btn {
            background: white;
            color: #4a5568;
            border: 1px solid #e2e8f0;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.2s;
            box-shadow: var(--shadow-sm);
        }
        .topic-btn:hover {
            background: var(--primary-gradient);
            color: white;
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }
        #aiCreativeLabOutput {
            background: var(--bg-secondary);
            border-radius: 10px;
            padding: 1.5rem;
            min-height: 200px;
            line-height: 1.8;
            color: var(--text-secondary);
            white-space: pre-wrap;
        }

        /* --- Animation Styles --- */
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .scroll-animate.in-view {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Staggered animation for children */
        .stagger-children > * {
            transition-delay: var(--stagger-delay, 0s);
        }
        
        /* Modal Animation */
        #loginModal, #createSessionModal, #compilerModal, #translatorModal, #dictionaryModal, #whiteboardModal, #profileModal {
            transition: opacity 0.3s ease-in-out;
        }

        #loginModal .modal-content, #createSessionModal > div, #compilerModal > div, #translatorModal > div, #dictionaryModal > div, #whiteboardModal > div, #profileModal .modal-content {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            transform: scale(0.95);
            opacity: 0;
        }
        
        #loginModal.flex .modal-content, 
        #createSessionModal.flex > div, 
        #compilerModal.flex > div,
        #translatorModal.flex > div,
        #dictionaryModal.flex > div,
        #whiteboardModal.flex > div,
        #profileModal.flex .modal-content {
            transform: scale(1);
            opacity: 1;
        }

        /* Chatbot Window Animation */
        #chatbotWindow {
            transition: transform 0.3s ease-out, opacity 0.3s ease-out;
            transform: translateY(20px);
            opacity: 0;
        }

        #chatbotWindow:not(.hidden) {
            transform: translateY(0);
            opacity: 1;
        }
        
        /* Profile Customization */
        .interest-tag {
            background: var(--primary-gradient);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.875rem;
            display: inline-flex;
            align-items: center;
            margin: 2px;
            animation: pop-in 0.2s ease-out forwards;
        }
        .interest-tag-remove {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background: transparent;
            border: none;
            padding: 0;
            margin: 0;
            margin-left: 8px;
            cursor: pointer;
            font-weight: bold;
            color: white;
            font-size: 1.2em;
            line-height: 1;
            opacity: 0.7;
            transition: opacity 0.2s;
        }
        .interest-tag-remove:hover {
            opacity: 1;
        }

        @keyframes pop-in {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        /* --- Dark Mode Specific Styles --- */
        .dark body { background-color: var(--bg-primary); color: var(--text-primary); }
        .dark .bg-gray-50 { background-color: var(--bg-primary) !important; }
        .dark #sessions { background-color: var(--bg-primary) !important; }
        .dark .bg-white { background-color: var(--card-bg) !important; }
        .dark #dashboard .bg-gray-100 { background-color: var(--bg-primary) !important; }

        .dark nav {
            background-color: color-mix(in srgb, var(--card-bg) 95%, transparent) !important;
            border-bottom: 1px solid var(--border-color);
        }
        .dark .text-gray-800, .dark .text-gray-700, .dark h4, .dark h3, .dark h2, .dark h1 { color: var(--text-primary); }
        .dark .text-gray-600, .dark .text-gray-500, .dark p, .dark label, .dark span, .dark a:not(.btn-primary):not(.btn-secondary) { color: var(--text-secondary); }
        .dark .border, .dark .border-b, .dark .border-t { border-color: var(--border-color); }
        .dark .modern-card { border-color: var(--border-color); }
        .dark input, .dark select, .dark textarea {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border-color: var(--border-color);
        }
        .dark input::placeholder, .dark textarea::placeholder { color: var(--text-muted); }
        .dark #chatbotWindow, .dark #userMenuDropdown { border-color: var(--border-color); }
        .dark #chatbotMessages { background-color: var(--bg-primary) !important; }

    </style>
    <script>
        // Immediately apply theme to prevent FOUC (Flash of Unstyled Content)
        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-40 backdrop-blur-sm bg-white/95">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center space-x-3">
                    <div class="flex items-center space-x-2 nav-brand">
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center">
                            <i class="fas fa-graduation-cap text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold gradient-text">BridgeLearn</h1>
                            <p class="text-xs text-gray-500 hidden sm:block">Modern Learning Platform</p>
                        </div>
                    </div>
                </div>
                
                <!-- Desktop Menu -->
                <div class="desktop-menu hidden md:flex space-x-8">
                    <a href="#home" class="text-gray-600 font-medium hover:text-blue-600 transition-colors duration-200" data-i18n="nav.home">Home</a>
                    <a href="#sessions" class="text-gray-600 font-medium hover:text-blue-600 transition-colors duration-200" data-i18n="nav.sessions">Sessions</a>
                    <a href="#about" class="text-gray-600 font-medium hover:text-blue-600 transition-colors duration-200" data-i18n="nav.about">About</a>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="mobile-menu md:hidden">
                    <button id="mobileMenuBtn" class="text-gray-600 hover:text-blue-600 transition-colors">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
                
                <!-- Desktop Login Button -->
                <div class="hidden md:flex items-center space-x-3">
                    <select id="langSelect">
                        <option value="en">English</option>
                        <option value="ar">العربية</option>
                        <option value="hi">हिन्दी</option>
                        <option value="ml">മലയാളം</option>
                        <option value="ta">தமிழ்</option>
                        <option value="te">తెలుగు</option>
                    </select>
                    <button id="theme-toggle-btn" aria-label="Toggle theme" class="text-gray-600 hover:text-blue-600 w-10 h-10 flex items-center justify-center rounded-lg transition-colors">
                        <i class="fas fa-sun text-lg"></i>
                    </button>
                    <button id="loginBtn" class="btn-primary">
                        <i class="fas fa-sign-in-alt mr-2"></i><span data-i18n="nav.login">Login</span>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobileMenu" class="mobile-menu hidden md:hidden pb-4">
                <div class="flex flex-col space-y-4">
                    <a href="#home" class="text-gray-600 font-medium hover:text-blue-600 transition-colors duration-200" data-i18n="nav.home">Home</a>
                    <a href="#sessions" class="text-gray-600 font-medium hover:text-blue-600 transition-colors duration-200" data-i18n="nav.sessions">Sessions</a>
                    <a href="#about" class="text-gray-600 font-medium hover:text-blue-600 transition-colors duration-200" data-i18n="nav.about">About</a>
                    <div class="flex items-center gap-4">
                        <select id="langSelectMobile" class="flex-grow">
                            <option value="en">English</option>
                            <option value="ar">العربية</option>
                            <option value="hi">हिन्दी</option>
                            <option value="ml">മലയാളം</option>
                            <option value="ta">தமிழ்</option>
                            <option value="te">తెలుగు</option>
                        </select>
                        <button id="theme-toggle-btn-mobile" aria-label="Toggle theme" class="text-gray-600 hover:text-blue-600 w-12 h-12 flex items-center justify-center rounded-lg transition-colors border border-gray-300">
                             <i class="fas fa-sun text-lg"></i>
                        </button>
                    </div>
                    <button id="mobileLoginBtn" class="btn-primary w-full text-center">
                        <i class="fas fa-sign-in-alt mr-2"></i><span data-i18n="nav.login">Login</span>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero-gradient text-white py-20 lg:py-32 section-padding">
        <div class="hero-content">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <div class="mb-8">
                    <h2 class="hero-title text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight scroll-animate" data-i18n="hero.title">
                        Bridge Generations Through 
                        <span class="block text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 to-orange-300">
                            Learning
                        </span>
                    </h2> 
                </div>
                
                <p class="hero-subtitle text-lg sm:text-xl lg:text-2xl mb-12 max-w-4xl mx-auto leading-relaxed text-white/90 scroll-animate" data-i18n="hero.tagline">
                    Connect with experienced Emirati mentors and international professionals in the UAE. 
                    Share knowledge, preserve traditions, and build the future together.
                </p>
                
                <div class="flex flex-col sm:flex-row justify-center items-center gap-4 sm:gap-6 mobile-stack scroll-animate">
                    <button onclick="showLoginModal('student')" class="btn-primary w-full sm:w-auto px-8 py-4 text-lg mobile-full">
                        <i class="fas fa-user-graduate mr-2"></i>
                        <span data-i18n="hero.ctaStudent">I'm a Student</span>
                    </button>
                    <button onclick="showLoginModal('mentor')" class="btn-secondary w-full sm:w-auto px-8 py-4 text-lg mobile-full">
                        <i class="fas fa-chalkboard-teacher mr-2"></i>
                        <span data-i18n="hero.ctaMentor">I'm a Mentor</span>
                    </button>
                </div>
                
                <!-- Stats Section -->
                <div class="mt-16 grid grid-cols-1 sm:grid-cols-3 gap-8 max-w-4xl mx-auto stagger-children">
                    <div class="text-center scroll-animate">
                        <div class="text-3xl sm:text-4xl font-bold text-white mb-2">500+</div>
                        <div class="text-white/80" data-i18n="stats.activeMentors">Active Mentors</div>
                    </div>
                    <div class="text-center scroll-animate">
                        <div class="text-3xl sm:text-4xl font-bold text-white mb-2">2,000+</div>
                        <div class="text-white/80" data-i18n="stats.studentsLearning">Students Learning</div>
                    </div>
                    <div class="text-center scroll-animate">
                        <div class="text-3xl sm:text-4xl font-bold text-white mb-2">50+</div>
                        <div class="text-white/80" data-i18n="stats.countries">Countries Represented</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Choose Your Path -->
    <section id="modeSelection" class="py-16 lg:py-24 bg-white section-padding overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 scroll-animate">
                <h3 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-gray-800">
                    Choose Your Path
                </h3>
                <div class="w-24 h-1 mx-auto bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full"></div>
                <p class="text-lg text-gray-600 mt-6 max-w-2xl mx-auto">
                    Are you here to explore and learn, or to mentor and guide?
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto">
                <!-- Teen Zone Card -->
                <div id="teenModeBtn" class="mode-card teen-mode-card group scroll-animate">
                    <i class="fas fa-laptop-code text-5xl mb-4"></i>
                    <h4 class="text-3xl font-bold mb-3">Teen Zone</h4>
                    <p class="mb-6">Explore coding, game design, and more!</p>
                    <button class="bg-white/30 text-white font-bold py-2 px-6 rounded-full hover:bg-white/50 transition">Enter Zone</button>
                </div>
                <!-- Mentor Mode Card -->
                <div id="mentorModeBtn" class="mode-card mentor-mode-card group scroll-animate">
                    <i class="fas fa-user-tie text-5xl mb-4"></i>
                    <h4 class="text-3xl font-bold mb-3">Mentor Mode</h4>
                    <p class="mb-6">Connect, teach, and inspire the next generation.</p>
                    <button class="btn-primary">Get Started</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Sessions -->
    <section id="sessions" class="py-16 lg:py-24 bg-gray-50 section-padding">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 scroll-animate">
                <h3 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 text-gray-800" data-i18n="sessions.title">
                    Featured Learning Sessions
                </h3>
                <div class="w-24 h-1 mx-auto bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full"></div>
                <p class="text-lg text-gray-600 mt-6 max-w-2xl mx-auto" data-i18n="sessions.subtitle">
                    Discover amazing learning opportunities from expert mentors around the world
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mobile-grid-1 stagger-children">
                <!-- Session Card 1 -->
                <div class="modern-card p-6 modern-accent group scroll-animate">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center session-card-icon">
                            <i class="fas fa-code text-2xl text-white"></i>
                        </div>
                        <h4 class="text-xl font-bold mb-3 text-gray-800">Web Development Basics</h4>
                        <p class="text-gray-600 mb-4 leading-relaxed">Learn HTML, CSS, and JavaScript from a tech entrepreneur with 10+ years of experience.</p>
                    </div>
                    
                    <div class="border-t border-gray-100 pt-6">
                        <div class="flex items-center mb-3">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center mr-3">
                                <span class="text-white text-sm font-bold">UK</span>
                            </div>
                            <span class="font-semibold text-gray-800">Tom Hillson</span>
                        </div>
                        
                        <div class="space-y-2 mb-6">
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-clock mr-3 text-blue-500"></i>
                                <span class="text-sm">2 hours</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-calendar mr-3 text-blue-500"></i>
                                <span class="text-sm">Dec 29, 2024</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-users mr-3 text-blue-500"></i>
                                <span class="text-sm">15 students max</span>
                            </div>
                        </div>
                        
                        <button onclick="showLoginModal('student')" class="w-full btn-primary py-3 text-center group-hover:scale-105 transition-transform">
                            <i class="fas fa-bookmark mr-2"></i><span data-i18n="actions.bookSession">Book Session</span>
                        </button>
                    </div>
                </div>

                <!-- Session Card 2 -->
                <div class="modern-card p-6 modern-accent group scroll-animate">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center session-card-icon">
                            <i class="fas fa-chart-line text-2xl text-white"></i>
                        </div>
                        <h4 class="text-xl font-bold mb-3 text-gray-800">Business Strategy</h4>
                        <p class="text-gray-600 mb-4 leading-relaxed">30 years of experience building businesses in the international market. Learn from a proven leader.</p>
                    </div>
                    
                    <div class="border-t border-gray-100 pt-6">
                        <div class="flex items-center mb-3">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center mr-3">
                                <span class="text-white text-sm font-bold">USA</span>
                            </div>
                            <span class="font-semibold text-gray-800">Jack Timson</span>
                        </div>
                        
                        <div class="space-y-2 mb-6">
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-clock mr-3 text-blue-500"></i>
                                <span class="text-sm">1.5 hours</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-calendar mr-3 text-blue-500"></i>
                                <span class="text-sm">Dec 30, 2024</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-users mr-3 text-blue-500"></i>
                                <span class="text-sm">10 students max</span>
                            </div>
                        </div>
                        
                        <button onclick="showLoginModal('student')" class="w-full btn-secondary py-3 text-center group-hover:scale-105 transition-transform">
                            <i class="fas fa-bookmark mr-2"></i><span data-i18n="actions.bookSession">Book Session</span>
                        </button>
                    </div>
                </div>

                <!-- Session Card 3 -->
                <div class="modern-card p-6 modern-accent group scroll-animate">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-r from-pink-400 to-red-500 flex items-center justify-center session-card-icon">
                            <i class="fas fa-paint-brush text-2xl text-white"></i>
                        </div>
                        <h4 class="text-xl font-bold mb-3 text-gray-800">Islamic Art & Calligraphy</h4>
                        <p class="text-gray-600 mb-4 leading-relaxed">Traditional art forms meet modern digital techniques. Explore the beauty of Islamic culture.</p>
                    </div>
                    
                    <div class="border-t border-gray-100 pt-6">
                        <div class="flex items-center mb-3">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center mr-3">
                                <span class="text-white text-sm font-bold">AE</span>
                            </div>
                            <span class="font-semibold text-gray-800">Omar Al-Mansouri</span>
                        </div>
                        
                        <div class="space-y-2 mb-6">
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-clock mr-3 text-blue-500"></i>
                                <span class="text-sm">3 hours</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-calendar mr-3 text-blue-500"></i>
                                <span class="text-sm">Jan 2, 2025</span>
                            </div>
                            <div class="flex items-center text-gray-600">
                                <i class="fas fa-users mr-3 text-blue-500"></i>
                                <span class="text-sm">20 students max</span>
                            </div>
                        </div>
                        
                        <button onclick="showLoginModal('student')" class="w-full bg-gradient-to-r from-pink-500 to-red-500 text-white py-3 rounded-xl font-semibold text-center group-hover:scale-105 transition-transform">
                            <i class="fas fa-bookmark mr-2"></i><span data-i18n="actions.bookSession">Book Session</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    

    <!-- About Section -->
    <section id="about" class="bg-white py-16 lg:py-24 section-padding">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mobile-grid-1 stagger-children">
                <!-- Feature 1 -->
                <div class="modern-card p-8 text-center group hover:shadow-2xl transition-all duration-300 about-feature scroll-animate">
                    <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-r from-green-400 to-blue-500 flex items-center justify-center group-hover:scale-110 transition-transform about-feature-icon">
                        <i class="fas fa-hands-helping text-3xl text-white"></i>
                    </div>
                    <h4 class="text-2xl font-bold mb-4 text-gray-800">Expert Mentorship</h4>
                    <p class="text-gray-600 leading-relaxed">
                        Learn from industry leaders and international professionals who bring decades of real-world experience to every session.
                    </p>
                </div>
                
                <!-- Feature 2 -->
                <div class="modern-card p-8 text-center group hover:shadow-2xl transition-all duration-300 about-feature scroll-animate">
                    <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-r from-purple-400 to-pink-500 flex items-center justify-center group-hover:scale-110 transition-transform about-feature-icon">
                        <i class="fas fa-graduation-cap text-3xl text-white"></i>
                    </div>
                    <h4 class="text-2xl font-bold mb-4 text-gray-800">Heritage & Innovation</h4>
                    <p class="text-gray-600 leading-relaxed">
                        Bridging traditional wisdom with cutting-edge knowledge, creating a unique learning experience that honors the past while embracing the future.
                    </p>
                </div>
                
                <!-- Feature 3 -->
                <div class="modern-card p-8 text-center group hover:shadow-2xl transition-all duration-300 about-feature scroll-animate">
                    <div class="w-20 h-20 mx-auto mb-6 rounded-2xl bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center group-hover:scale-110 transition-transform about-feature-icon">
                        <i class="fas fa-star text-3xl text-white"></i>
                    </div>
                    <h4 class="text-2xl font-bold mb-4 text-gray-800">Excellence Standards</h4>
                    <p class="text-gray-600 leading-relaxed">
                        Following the vision for world-class education and knowledge economy, ensuring every learning experience meets the highest standards.
                    </p>
                </div>
            </div>
            
            
        </div>
    </section>

    <!-- Teen Mode Header (hidden by default) -->
    <header id="teenModeHeader" class="hidden sticky top-0 z-40 p-4 shadow-lg">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-laptop-code text-3xl text-white"></i>
                <h1 class="text-2xl font-bold text-white">BridgeLearn Teen Zone</h1>
            </div>
            <button onclick="goBackToHome()" class="bg-white/30 text-white font-bold py-2 px-4 rounded-full hover:bg-white/50 transition">
                <i class="fas fa-arrow-left mr-2"></i> Go Back
            </button>
        </div>
    </header>

    <!-- Teen Dashboard (hidden by default) -->
    <main id="teenDashboard" class="hidden min-h-screen">
        <!-- Main Dashboard -->
        <div id="teenDashboardMain" class="p-8">
            <h2 class="text-4xl font-bold text-center text-gray-700 mb-12">Teen Learning Zone</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <div class="game-card" onclick="showTeenDashboardScreen('coding')">
                    <i class="fas fa-code"></i>
                    <h3>Coding Challenge</h3>
                </div>
                <div class="game-card" onclick="showTeenDashboardScreen('gamedesign')">
                    <i class="fas fa-gamepad"></i>
                    <h3>Game Design Intro</h3>
                </div>
                <div class="game-card" onclick="showTeenDashboardScreen('creative')">
                    <i class="fas fa-lightbulb"></i>
                    <h3>AI Creative Lab</h3>
                </div>
            </div>
        </div>
        
        <!-- Coding Challenge Game -->
        <div id="codingChallengeGame" class="hidden p-8">
            <button onclick="showTeenDashboardScreen('main')" class="mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-full hover:bg-blue-600 transition"><i class="fas fa-arrow-left mr-2"></i>Back to Zone</button>
            <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-gray-700 text-center mb-2">Python Coding Challenge</h2>
                <p class="text-center text-gray-600 mb-6">Write a Python function to check if a word is a palindrome (reads the same forwards and backward).</p>
                <textarea id="codeChallengeInput" class="w-full code-editor" placeholder="def is_palindrome(word):&#10;    # Your code here"></textarea>
                <button id="submitCodeBtn" class="mt-4 w-full btn-primary text-lg"><i class="fas fa-play mr-2"></i>Run & Check Code</button>
                <h3 class="font-bold text-xl mt-6 mb-2">AI Feedback:</h3>
                <div id="codeChallengeOutput" class="code-output">Your feedback will appear here...</div>
            </div>
        </div>

        <!-- Game Design Intro Game -->
        <div id="gameDesignIntroGame" class="hidden p-8">
             <button onclick="showTeenDashboardScreen('main')" class="mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-full hover:bg-blue-600 transition"><i class="fas fa-arrow-left mr-2"></i>Back to Zone</button>
             <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-gray-700 text-center mb-2">Game Design Concepts</h2>
                <p class="text-center text-gray-600 mb-6">Select a topic to learn more from our AI Tutor!</p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                    <button class="topic-btn" onclick="fetchGameDesignConcept('Game Loop')">Game Loop</button>
                    <button class="topic-btn" onclick="fetchGameDesignConcept('Character Archetypes')">Archetypes</button>
                    <button class="topic-btn" onclick="fetchGameDesignConcept('Level Design')">Level Design</button>
                    <button class="topic-btn" onclick="fetchGameDesignConcept('Game Mechanics')">Mechanics</button>
                </div>
                <div id="gameDesignOutput" class="code-output bg-gray-100 text-gray-700">Select a topic to begin!</div>
             </div>
        </div>
        
        <!-- AI Creative Lab -->
        <div id="aiCreativeLabGame" class="hidden p-8">
            <button onclick="showTeenDashboardScreen('main')" class="mb-4 bg-blue-500 text-white font-bold py-2 px-4 rounded-full hover:bg-blue-600 transition"><i class="fas fa-arrow-left mr-2"></i>Back to Zone</button>
            <div class="max-w-4xl mx-auto bg-white p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-gray-700 text-center mb-2">AI Creative Lab</h2>
                <p class="text-center text-gray-600 mb-6">Let's create something awesome! What do you want to generate?</p>
                
                <div class="flex flex-col sm:flex-row gap-2 mb-4">
                    <select id="aiCreativeType" class="w-full sm:w-1/3 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="game_concept">Game Concept</option>
                        <option value="character_backstory">Character Backstory</option>
                        <option value="python_script">Simple Python Script</option>
                    </select>
                    <input type="text" id="aiCreativePrompt" placeholder="e.g., a sci-fi stealth game" class="flex-1 w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <button id="generateAiContentBtn" class="btn-secondary px-6 py-3"><i class="fas fa-magic mr-2"></i>Generate</button>
                </div>
                <div id="aiCreativeLabOutput" class="text-lg">Your creation will appear here!</div>
            </div>
        </div>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl modal-content">
            <div class="text-center mb-8">
                <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center">
                    <i class="fas fa-graduation-cap text-2xl text-white"></i>
                </div>
                <h3 class="text-2xl sm:text-3xl font-bold mb-2 text-gray-800" data-i18n="login.title">Welcome to BridgeLearn</h3>
                <p class="text-gray-600" data-i18n="login.subtitle">Enter your details to join the learning community</p>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label class="block text-gray-700 text-sm font-semibold mb-2" data-i18n="login.fullName">Full Name</label>
                    <input type="text" id="fullName" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" 
                           placeholder="Enter your full name" required>
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-semibold mb-2" data-i18n="login.email">Email</label>
                    <input type="email" id="email" 
                           class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all" 
                           placeholder="Enter your email" required>
                </div>
                
                <div>
                    <label class="block text-gray-700 text-sm font-semibold mb-2" data-i18n="login.iam">I am a:</label>
                    <select id="userType" 
                            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all">
                        <option value="student" data-i18n="login.roleStudent">Student</option>
                        <option value="retired" data-i18n="login.roleMentor">Retired Professional / Mentor</option>
                    </select>
                </div>
                
                <div class="flex flex-col sm:flex-row gap-4 pt-4">
                    <button type="button" onclick="closeLoginModal()" 
                            class="flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 hover:border-gray-400 transition-all font-semibold" data-i18n="common.cancel">
                        Cancel
                    </button>
                    <button type="submit" 
                            class="flex-1 btn-primary py-3 text-center" data-i18n="login.submit">
                        <i class="fas fa-rocket mr-2"></i>Get Started
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Dashboard (hidden initially) -->
    <div id="dashboard" class="hidden">
        <div class="bg-gray-100 min-h-screen">
            <!-- Dashboard Header -->
            <div class="bg-white shadow">
                <div class="max-w-6xl mx-auto px-4 py-4">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-graduation-cap text-xl sm:text-2xl text-blue-600"></i>
                            <h1 class="text-xl sm:text-2xl font-bold text-gray-800">BridgeLearn Dashboard</h1>
                        </div>
                        <div class="flex flex-wrap items-center gap-2 sm:space-x-4 w-full sm:w-auto justify-end">
                            <button onclick="showCreateSessionModal()" class="bg-blue-600 text-white px-3 py-2 text-sm sm:px-4 sm:text-base rounded-lg hover:bg-blue-700 transition">
                                <i class="fas fa-plus mr-1 sm:mr-2"></i><span data-i18n="actions.createSession">Create Session</span>
                            </button>
                            <!-- User Profile Dropdown -->
                            <div class="relative">
                                <button id="userMenuButton" class="flex items-center space-x-2">
                                    <img id="userMenuAvatar" src="" alt="User Avatar" class="w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover bg-gray-200">
                                    <span id="userMenuName" class="font-semibold text-gray-700 text-sm sm:text-base"></span>
                                    <i class="fas fa-chevron-down text-xs text-gray-500"></i>
                                </button>
                                <div id="userMenuDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl z-20 py-1">
                                    <a href="#" onclick="openProfileModal()" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                                        <i class="fas fa-user-edit w-5 mr-2"></i>My Profile
                                    </a>
                                    <a href="#" onclick="logout()" class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100">
                                        <i class="fas fa-sign-out-alt w-5 mr-2"></i>Logout
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Content -->
            <div class="max-w-6xl mx-auto px-4 py-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mobile-grid-1">
                    <!-- Quick Stats -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex items-center">
                            <i class="fas fa-calendar-check text-3xl text-blue-600 mr-4"></i>
                            <div>
                                <h3 class="text-lg font-semibold">Upcoming Sessions</h3>
                                <p class="text-2xl font-bold text-blue-600">3</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex items-center">
                            <i class="fas fa-trophy text-3xl text-green-600 mr-4"></i>
                            <div>
                                <h3 class="text-lg font-semibold">Completed</h3>
                                <p class="text-2xl font-bold text-green-600">12</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex items-center">
                            <i class="fas fa-star text-3xl text-yellow-600 mr-4"></i>
                            <div>
                                <h3 class="text-lg font-semibold">Rating</h3>
                                <p class="text-2xl font-bold text-yellow-600">4.8</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- My Sessions -->
                <div class="mt-8 bg-white rounded-lg shadow">
                    <div class="p-4 sm:p-6 border-b flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                        <h3 class="text-lg sm:text-xl font-semibold" data-i18n="dashboard.mySessions">My Sessions</h3>
                        <button onclick="showCreateSessionModal()" class="bg-blue-600 text-white px-3 py-2 sm:px-4 rounded-lg hover:bg-blue-700 transition text-sm w-full sm:w-auto">
                            <i class="fas fa-plus mr-1 sm:mr-2"></i><span data-i18n="actions.addSession">Add New Session</span>
                        </button>
                    </div>
                    <div class="p-4 sm:p-6">
                        <div id="userSessions" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <!-- User sessions will be displayed here -->
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="mt-8 bg-white rounded-lg shadow">
                    <div class="p-4 sm:p-6 border-b">
                        <h3 class="text-lg sm:text-xl font-semibold" data-i18n="dashboard.recentActivity">Recent Activity</h3>
                    </div>
                    <div class="p-4 sm:p-6">
                        <div class="space-y-4">
                            <div class="flex items-start sm:items-center p-3 sm:p-4 bg-blue-50 rounded-lg">
                                <i class="fas fa-calendar-plus text-blue-600 mr-3 mt-1 sm:mt-0"></i>
                                <div>
                                    <p class="font-semibold text-sm sm:text-base" data-i18n="dashboard.activityBooked">New session booked</p>
                                    <p class="text-xs sm:text-sm text-gray-600">Web Development Basics - Dec 29, 2024</p>
                                </div>
                            </div>
                            <div class="flex items-start sm:items-center p-3 sm:p-4 bg-green-50 rounded-lg">
                                <i class="fas fa-check-circle text-green-600 mr-3 mt-1 sm:mt-0"></i>
                                <div>
                                    <p class="font-semibold text-sm sm:text-base" data-i18n="dashboard.activityCompleted">Session completed</p>
                                    <p class="text-xs sm:text-sm text-gray-600">Business Strategy fundamentals</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Current Live Session -->
                <div class="mt-8 bg-gradient-to-r from-blue-600 to-purple-700 rounded-lg shadow-lg text-white">
                    <div class="p-4 sm:p-6 border-b border-white/20">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2">
                            <h3 class="text-lg sm:text-xl font-semibold" data-i18n="currentSession.title">Current Live Session</h3>
                            <div class="flex items-center space-x-2 text-green-300">
                                <div class="w-3 h-3 bg-green-400 rounded-full animate-pulse"></div>
                                <span class="text-sm font-medium">LIVE</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-4 sm:p-6">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6">
                            <!-- Session Info -->
                            <div class="space-y-4">
                                <div class="flex items-center space-x-3 sm:space-x-4">
                                    <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-white/20 flex items-center justify-center">
                                        <i class="fas fa-video text-lg sm:text-xl text-white"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-base sm:text-lg font-bold text-white" id="currentSessionTitle">Advanced Web Development</h4>
                                        <p class="text-blue-100 text-xs sm:text-sm">Live Interactive Session</p>
                                    </div>
                                </div>
                                
                                <div class="space-y-3">
                                    <div class="flex items-start sm:items-center text-blue-100">
                                        <i class="fas fa-user-circle text-base sm:text-lg mr-3 mt-1 sm:mt-0"></i>
                                        <div>
                                            <p class="font-semibold text-sm sm:text-base">Dr. Sarah Ahmed</p>
                                            <p class="text-xs sm:text-sm">Senior Software Engineer, Microsoft</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-start sm:items-center text-blue-100">
                                        <i class="fas fa-clock text-base sm:text-lg mr-3 mt-1 sm:mt-0"></i>
                                        <div>
                                            <p class="font-semibold text-sm sm:text-base">2 hours remaining</p>
                                            <p class="text-xs sm:text-sm">Started 30 minutes ago</p>
                                        </div>
                                    </div>
                                    
                                    <div class="flex items-start sm:items-center text-blue-100">
                                        <i class="fas fa-user-friends text-base sm:text-lg mr-3 mt-1 sm:mt-0"></i>
                                        <div>
                                            <p class="font-semibold text-sm sm:text-base">One-on-One Session</p>
                                            <p class="text-xs sm:text-sm">Personal mentoring with Dr. Sarah</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Join Button and Session Tools -->
                            <div class="space-y-4">
                                <button onclick="joinVideoCall()" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-3 px-4 sm:px-6 rounded-xl transition-all duration-300 transform hover:scale-105 shadow-lg text-sm sm:text-base">
                                    <i class="fas fa-video mr-2"></i>
                                    <span data-i18n="currentSession.joinNow">Join Now</span>
                                </button>
                                
                                <!-- Session-Specific Tools -->
                                <div id="sessionTools" class="space-y-3">
                                    <!-- Coding Session Tools -->
                                    <div id="codingTools" class="hidden">
                                        <h5 class="text-white font-semibold mb-2">Development Tools</h5>
                                        <div class="grid grid-cols-2 gap-2">
                                            <button onclick="openCompiler()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-code mr-1"></i> Code Compiler
                                            </button>
                                            <button onclick="openCodeShare()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-share-alt mr-1"></i> Share Code
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Language Learning Tools -->
                                    <div id="languageTools" class="hidden">
                                        <h5 class="text-white font-semibold mb-2">Language Tools</h5>
                                        <div class="grid grid-cols-2 gap-2">
                                            <button onclick="openTranslator()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-language mr-1"></i> Translator
                                            </button>
                                            <button onclick="openDictionary()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-book mr-1"></i> Dictionary
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Business Session Tools -->
                                    <div id="businessTools" class="hidden">
                                        <h5 class="text-white font-semibold mb-2">Business Tools</h5>
                                        <div class="grid grid-cols-2 gap-2">
                                            <button onclick="openWhiteboard()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-chalkboard mr-1"></i> Whiteboard
                                            </button>
                                            <button onclick="openNotes()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-sticky-note mr-1"></i> Notes
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Design Session Tools -->
                                    <div id="designTools" class="hidden">
                                        <h5 class="text-white font-semibold mb-2">Design Tools</h5>
                                        <div class="grid grid-cols-2 gap-2">
                                            <button onclick="openDesignBoard()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-palette mr-1"></i> Design Board
                                            </button>
                                            <button onclick="openColorPicker()" class="bg-white/20 hover:bg-white/30 text-white py-2 px-3 rounded-lg text-sm transition-colors">
                                                <i class="fas fa-eye-dropper mr-1"></i> Color Picker
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Session Modal -->
    <div id="createSessionModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4 max-h-screen overflow-y-auto">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold mb-2">Create New Session</h3>
                <p class="text-gray-600">Share your knowledge or request mentoring</p>
            </div>
            <form id="createSessionForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Session Title</label>
                    <input type="text" id="sessionTitle" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="e.g., Advanced JavaScript Concepts" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Description</label>
                    <textarea id="sessionDescription" rows="3" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" placeholder="Describe what will be covered in this session..." required></textarea>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Category</label>
                    <select id="sessionCategory" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                        <option value="">Select a category</option>
                        <option value="technology">Technology & Programming</option>
                        <option value="business">Business & Management</option>
                        <option value="design">Design & Creative</option>
                        <option value="finance">Finance & Accounting</option>
                        <option value="marketing">Marketing & Sales</option>
                        <option value="health">Health & Wellness</option>
                        <option value="education">Education & Teaching</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2">Date</label>
                        <input type="date" id="sessionDate" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2">Time</label>
                        <input type="time" id="sessionTime" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Duration (hours)</label>
                    <select id="sessionDuration" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                        <option value="">Select duration</option>
                        <option value="0.5">30 minutes</option>
                        <option value="1">1 hour</option>
                        <option value="1.5">1.5 hours</option>
                        <option value="2">2 hours</option>
                        <option value="3">3 hours</option>
                        <option value="4">4 hours</option>
                    </select>
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2">Session Type</label>
                    <select id="sessionType" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:border-blue-500" required>
                        <option value="">Select type</option>
                        <option value="offering">I'm offering to teach/mentor</option>
                        <option value="requesting">I'm requesting mentoring/help</option>
                    </select>
                </div>
                <div class="flex space-x-4 mb-4">
                    <button type="button" onclick="closeCreateSessionModal()" class="flex-1 border border-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-50 transition">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition">
                        Create Session
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Profile Modal -->
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl p-8 max-w-lg w-full shadow-2xl modal-content max-h-[90vh] overflow-y-auto">
            <div class="text-center mb-8">
                <h3 class="text-2xl sm:text-3xl font-bold mb-2 text-gray-800">Edit Your Profile</h3>
                <p class="text-gray-600">Personalize your BridgeLearn experience</p>
            </div>
            
            <form id="profileForm" class="space-y-6">
                <!-- Profile Picture -->
                <div class="flex flex-col items-center space-y-4">
                    <img id="profilePicPreview" src="" alt="Profile Preview" class="w-32 h-32 rounded-full object-cover bg-gray-200 border-4 border-white shadow-md">
                    <input type="file" id="profilePicInput" class="hidden" accept="image/*">
                    <button type="button" onclick="document.getElementById('profilePicInput').click()" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition text-sm font-semibold">
                        <i class="fas fa-camera mr-2"></i>Change Picture
                    </button>
                </div>

                <!-- Full Name -->
                <div>
                    <label for="profileFullName" class="block text-gray-700 text-sm font-semibold mb-2">Full Name</label>
                    <input type="text" id="profileFullName" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>

                <!-- Bio -->
                <div>
                    <label for="profileBio" class="block text-gray-700 text-sm font-semibold mb-2">Short Bio</label>
                    <textarea id="profileBio" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Tell us a little about yourself..."></textarea>
                </div>

                <!-- Interests -->
                <div>
                    <label for="profileInterestsInput" class="block text-gray-700 text-sm font-semibold mb-2">Interests</label>
                    <div class="flex items-center border border-gray-300 rounded-xl p-1">
                        <input type="text" id="profileInterestsInput" class="flex-1 px-3 py-2 border-0 focus:outline-none focus:ring-0" placeholder="Add an interest and press Enter">
                    </div>
                    <div id="profileInterestsContainer" class="mt-2 flex flex-wrap gap-2">
                        <!-- Interest tags will be added here -->
                    </div>
                </div>
                
                <!-- Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 pt-4">
                    <button type="button" onclick="closeProfileModal()" class="flex-1 border-2 border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 font-semibold">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 btn-primary py-3">
                        <i class="fas fa-save mr-2"></i>Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Video Call Page -->
    <div id="videoCallPage" class="fixed inset-0 bg-gray-900 text-white z-50 hidden flex-col">
        <!-- Header -->
        <div class="flex items-center justify-between p-4 bg-gray-900/80 backdrop-blur-sm">
            <div class="flex items-center space-x-2">
                <i class="fas fa-graduation-cap text-lg text-blue-400"></i>
                <h2 class="text-lg font-bold">BridgeLearn Session</h2>
            </div>
            <div class="flex items-center space-x-2 text-sm bg-gray-800 px-3 py-1 rounded-full">
                <div class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                <span>LIVE</span>
            </div>
        </div>

        <!-- Main Video Area -->
        <div class="flex-1 p-4 overflow-auto">
            <div id="videoGrid" class="h-full w-full">
                <!-- User's video will be injected here -->
                <div id="userVideoContainer" class="video-container hidden">
                    <video id="userVideo" autoplay playsinline muted class="transform -scale-x-100"></video>
                    <div id="userVideoPlaceholder" class="w-full h-full flex flex-col items-center justify-center">
                        <i class="fas fa-user-circle placeholder-icon"></i>
                        <p class="mt-2 text-gray-400">Camera is off</p>
                    </div>
                    <div class="participant-name">You</div>
                </div>

                <!-- Mentor's video placeholder -->
                <div class="video-container">
                    <div class="w-full h-full flex flex-col items-center justify-center">
                        <i class="fas fa-chalkboard-teacher placeholder-icon"></i>
                        <p class="mt-2 text-gray-400">Waiting for mentor...</p>
                    </div>
                    <div class="participant-name">Dr. Sarah Ahmed</div>
                </div>
            </div>
        </div>

        <!-- Bottom Controls -->
        <div class="flex justify-center p-4 bg-gray-900/80 backdrop-blur-sm">
            <div class="flex items-center space-x-3 sm:space-x-5 bg-gray-800 p-3 rounded-full">
                <button id="micBtn" onclick="toggleMicrophone()" class="w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-colors" aria-label="Toggle Microphone">
                    <i class="fas fa-microphone text-xl"></i>
                </button>
                <button id="camBtn" onclick="toggleCamera()" class="w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 transition-colors" aria-label="Toggle Camera">
                    <i class="fas fa-video text-xl"></i>
                </button>
                <button onclick="endCall()" class="w-16 h-12 sm:w-20 sm:h-14 rounded-full flex items-center justify-center bg-red-600 hover:bg-red-700 transition-colors" aria-label="End Call">
                    <i class="fas fa-phone-slash text-xl"></i>
                </button>
            </div>
        </div>
    </div>


    <!-- Code Compiler Modal -->
    <div id="compilerModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl w-full h-full max-w-6xl max-h-screen overflow-hidden flex flex-col">
            <div class="bg-gray-800 p-4 flex justify-between items-center">
                <h3 class="text-white font-semibold text-lg">Code Compiler - Live Session</h3>
                <button onclick="closeCompiler()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="flex-1 flex">
                <div class="flex-1 p-4">
                    <div class="mb-4 flex items-center space-x-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Select Language:</label>
                            <select id="compilerLanguage" class="border border-gray-300 rounded-lg px-3 py-2">
                                <option value="javascript">JavaScript</option>
                                <option value="python">Python</option>
                                <option value="java">Java</option>
                                <option value="cpp">C++</option>
                                <option value="html">HTML</option>
                                <option value="css">CSS</option>
                            </select>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="shareCodeInSession()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">
                                <i class="fas fa-share mr-2"></i>Share with Session
                            </button>
                            <button onclick="saveCode()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                                <i class="fas fa-save mr-2"></i>Save Code
                            </button>
                        </div>
                    </div>
                    <textarea id="compilerCode" class="w-full h-64 p-4 border border-gray-300 rounded-lg font-mono text-sm" placeholder="Enter your code here...">// Welcome to the Code Compiler
console.log("Hello, World!");

function greet(name) {
    return `Hello, ${name}!`;
}

console.log(greet("BridgeLearn"));</textarea>
                </div>
                <div class="w-1/2 p-4 bg-gray-50">
                    <h4 class="font-semibold mb-2">Output:</h4>
                    <div id="compilerOutput" class="bg-black text-green-400 p-4 rounded-lg h-64 overflow-y-auto font-mono text-sm">
                        <div class="text-gray-500">Click "Run Code" to see output...</div>
                    </div>
                    <div class="mt-4 flex space-x-2">
                        <button onclick="runCode()" class="flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                            <i class="fas fa-play mr-2"></i>Run Code
                        </button>
                        <button onclick="clearCode()" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700">
                            <i class="fas fa-trash mr-2"></i>Clear
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Translator Modal -->
    <div id="translatorModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl w-full max-w-4xl max-h-screen overflow-hidden flex flex-col">
            <div class="bg-gray-800 p-4 flex justify-between items-center">
                <h3 class="text-white font-semibold text-lg">Language Translator</h3>
                <button onclick="closeTranslator()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">From:</label>
                        <select id="fromLanguage" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                            <option value="en">English</option>
                            <option value="ar">Arabic</option>
                            <option value="hi">Hindi</option>
                            <option value="ml">Malayalam</option>
                            <option value="ta">Tamil</option>
                            <option value="te">Telugu</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">To:</label>
                        <select id="toLanguage" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                            <option value="ar">Arabic</option>
                            <option value="en">English</option>
                            <option value="hi">Hindi</option>
                            <option value="ml">Malayalam</option>
                            <option value="ta">Tamil</option>
                            <option value="te">Telugu</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Text to translate:</label>
                        <textarea id="textToTranslate" class="w-full h-32 p-3 border border-gray-300 rounded-lg" placeholder="Enter text to translate...">Welcome to BridgeLearn! We're excited to have you join our learning community.</textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Translation:</label>
                        <textarea id="translatedText" class="w-full h-32 p-3 border border-gray-300 rounded-lg bg-gray-50" placeholder="Translation will appear here..." readonly></textarea>
                    </div>
                </div>
                <button onclick="translateText()" class="mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700">
                    <i class="fas fa-language mr-2"></i>Translate
                </button>
            </div>
        </div>
    </div>

    <!-- Dictionary Modal -->
    <div id="dictionaryModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl w-full max-w-3xl max-h-screen overflow-hidden flex flex-col">
            <div class="bg-gray-800 p-4 flex justify-between items-center">
                <h3 class="text-white font-semibold text-lg">Dictionary</h3>
                <button onclick="closeDictionary()" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="p-6">
                <div class="mb-4">
                    <div class="flex space-x-2">
                        <input type="text" id="dictionaryWord" class="flex-1 border border-gray-300 rounded-lg px-3 py-2" placeholder="Enter a word to look up...">
                        <button onclick="lookupWord()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                <div id="dictionaryResult" class="bg-gray-50 p-4 rounded-lg min-h-64">
                    <div class="text-gray-500 text-center">Enter a word above to see its definition...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Whiteboard Modal -->
    <div id="whiteboardModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl w-full h-full max-w-6xl max-h-screen overflow-hidden flex flex-col">
            <div class="bg-gray-800 p-4 flex justify-between items-center">
                <h3 class="text-white font-semibold text-lg">Collaborative Whiteboard</h3>
                <div class="flex space-x-2">
                    <button onclick="clearWhiteboard()" class="bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700">
                        Clear
                    </button>
                    <button onclick="closeWhiteboard()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
            </div>
            <div class="flex-1 p-4">
                <canvas id="whiteboardCanvas" class="border border-gray-300 rounded-lg w-full h-full cursor-crosshair"></canvas>
            </div>
        </div>
    </div>

    <!-- AI Chatbot -->
    <div id="chatbotContainer" class="fixed bottom-4 right-4 sm:bottom-6 sm:right-6 z-50">
        <!-- Chat Button -->
        <button id="chatbotToggle" class="text-white rounded-full w-14 h-14 sm:w-16 sm:h-16 shadow-xl transition-all duration-300 flex items-center justify-center chatbot-pulse bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 hover:scale-110 chatbot-button">
            <i class="fas fa-robot text-xl sm:text-2xl"></i>
        </button>
        
        <!-- Chat Window -->
        <div id="chatbotWindow" class="hidden absolute bottom-16 sm:bottom-20 right-0 w-80 sm:w-96 h-80 sm:h-96 bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden chatbot-window">
            <!-- Chat Header -->
            <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 flex justify-between items-center">
                <div class="flex items-center">
                    <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center mr-3">
                        <i class="fas fa-robot text-sm"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold text-sm sm:text-base">BridgeLearn AI</h3>
                        <p class="text-xs text-blue-100">Online now</p>
                    </div>
                </div>
                <button id="chatbotClose" class="text-white hover:text-gray-200 transition-colors">
                    <i class="fas fa-times text-lg"></i>
                </button>
            </div>
            
            <!-- Chat Messages -->
            <div id="chatbotMessages" class="flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50">
                <div class="flex items-start space-x-3 chatbot-message">
                    <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="bg-white rounded-2xl rounded-tl-sm p-3 max-w-xs shadow-sm">
                        <p class="text-sm text-gray-700">Hello! I'm your AI assistant for BridgeLearn. I can help you with questions about learning sessions, mentorship opportunities, and navigating our platform. How can I assist you today?</p>
                    </div>
                </div>
            </div>
            
            <!-- Chat Input -->
            <div class="p-4 bg-white border-t border-gray-200">
                <div class="flex space-x-2">
                    <input type="text" id="chatbotInput" placeholder="Ask me about BridgeLearn..." 
                           class="flex-1 px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm transition-all">
                    <button id="chatbotSend" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-xl transition-all hover:from-blue-600 hover:to-purple-700 hover:scale-105">
                        <i class="fas fa-paper-plane text-sm"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { GoogleGenAI } from "https://esm.run/@google/genai";

        // --- IMPORTANT ---
        // PASTE YOUR GOOGLE GEMINI API KEY HERE
        const API_KEY = "AIzaSyCi2CDpLxCRQiCTFPFYLfafhMjncIXRucc";
        // -----------------

        let currentUser = null;
        let userSessions = [];
        
        // Chatbot functionality
        // Note: In production, this API key should be stored securely on the server side
        // Backend API base (same origin)
        const API_BASE = window.location.origin;
        let isChatbotOpen = false;
        let conversationHistory = [];

        // Initialize the Google AI client
        let ai;
        if (API_KEY === "YOUR_API_KEY_HERE" || !API_KEY) {
            console.warn("API Key not found. AI features will be disabled.");
        } else {
             ai = new GoogleGenAI({apiKey: API_KEY});
        }
        
        function initializeAiFeatures() {
            if (!ai) {
                // Alert the user once when they first try to use an AI feature
                const aiFeaturesUsed = sessionStorage.getItem('aiFeaturesUsed');
                if (!aiFeaturesUsed) {
                    alert("Please paste your Google Gemini API Key in the index.html file to enable AI features.");
                    sessionStorage.setItem('aiFeaturesUsed', 'true');
                }

                // Disable AI-related buttons to prevent errors
                document.querySelectorAll('#submitCodeBtn, #generateAiContentBtn, .topic-btn, #chatbotSend').forEach(btn => {
                    btn.disabled = true;
                    if(btn.tagName === 'BUTTON') {
                       btn.style.opacity = 0.6;
                       btn.style.cursor = 'not-allowed';
                    }
                });
                return false;
            }
            return true;
        }


        // Chatbot Functions
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            const chatbotToggle = document.getElementById('chatbotToggle');
            
            isChatbotOpen = !isChatbotOpen;
            
            if (isChatbotOpen) {
                chatbotWindow.classList.remove('hidden');
                chatbotToggle.innerHTML = '<i class="fas fa-times text-2xl"></i>';
                document.getElementById('chatbotInput').focus();
            } else {
                // The hidden class will be added after the animation
                chatbotWindow.classList.add('hidden');
                chatbotToggle.innerHTML = '<i class="fas fa-robot text-2xl"></i>';
            }
        }

        function addMessage(content, isUser = false) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex items-start space-x-2 ${isUser ? 'flex-row-reverse space-x-reverse' : ''} chatbot-message`;
            
            const iconDiv = document.createElement('div');
            if (isUser) {
                iconDiv.className = 'w-8 h-8 rounded-full bg-gradient-to-r from-pink-500 to-red-500 flex items-center justify-center flex-shrink-0';
                iconDiv.innerHTML = `<i class="fas fa-user text-white text-sm"></i>`;
            } else {
                iconDiv.className = 'w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0';
                iconDiv.innerHTML = `<i class="fas fa-robot text-white text-sm"></i>`;
            }
            
            const contentDiv = document.createElement('div');
            contentDiv.className = `rounded-2xl p-3 max-w-xs shadow-sm text-sm ${isUser ? 'bg-blue-500 text-white rounded-br-sm' : 'bg-white text-gray-700 rounded-bl-sm'}`;
            contentDiv.innerHTML = `<p>${content}</p>`;
            
            messageDiv.appendChild(iconDiv);
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }


        function addTypingIndicator() {
            const messagesContainer = document.getElementById('chatbotMessages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'flex items-start space-x-3 chatbot-message';
            
            typingDiv.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-white text-sm"></i>
                </div>
                <div class="bg-white rounded-2xl rounded-tl-sm p-3 max-w-xs shadow-sm">
                    <div class="flex space-x-1">
                        <div class="w-2 h-2 rounded-full bg-gray-400 animate-bounce"></div>
                        <div class="w-2 h-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 0.1s"></div>
                        <div class="w-2 h-2 rounded-full bg-gray-400 animate-bounce" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
            `;
            
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        async function sendMessageToChatGPT(message) {
            try {
                // Add user message to conversation history
                conversationHistory.push({ role: 'user', content: message });
                
                // Add typing indicator
                addTypingIndicator();
                
                const response = await fetch(`${API_BASE}/api/chat`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        messages: [
                            { role: 'system', content: 'You are a helpful AI assistant for BridgeLearn, a platform that connects Emirati mentors with international professionals in the UAE. You help users with questions about learning sessions, mentorship, and the platform. Be friendly, helpful, and culturally aware of the UAE context.' },
                            ...conversationHistory
                        ]
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                const aiResponse = data.message || data.choices?.[0]?.message?.content || 'Sorry, I could not get a response.';
                
                // Remove typing indicator
                removeTypingIndicator();
                
                // Add AI response to conversation history
                conversationHistory.push({ role: 'assistant', content: aiResponse });
                
                // Display AI response
                addMessage(aiResponse, false);
                
            } catch (error) {
                console.error('Error calling ChatGPT API:', error);
                removeTypingIndicator();
                addMessage('Sorry, I encountered an error. Please try again later.', false);
            }
        }

        function handleChatbotSend() {
            if (!initializeAiFeatures()) return;
            const input = document.getElementById('chatbotInput');
            const message = input.value.trim();
            
            if (message) {
                // Display user message
                addMessage(message, true);
                
                // Clear input
                input.value = '';
                
                // Send to ChatGPT
                // sendMessageToChatGPT(message); // Disabled for demo
                setTimeout(() => {
                    removeTypingIndicator();
                    addMessage("This is a simulated response. The AI chatbot would be connected to a backend service in a real application.", false);
                }, 1000);
                addTypingIndicator();
            }
        }

        function handleChatbotKeyPress(event) {
            if (event.key === 'Enter') {
                handleChatbotSend();
            }
        }

        // Mobile menu functionality
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            
            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                mobileMenuBtn.innerHTML = '<i class="fas fa-times text-xl"></i>';
            } else {
                mobileMenu.classList.add('hidden');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars text-xl"></i>';
            }
        }

        // --- Mode Selection & Teen Mode ---
        function handleTeenModeClick() {
            document.querySelector('nav').classList.add('hidden');
            document.getElementById('home').classList.add('hidden');
            document.getElementById('sessions').classList.add('hidden');
            document.getElementById('about').classList.add('hidden');
            document.getElementById('modeSelection').classList.add('hidden');
            document.getElementById('chatbotContainer').classList.add('hidden');
            document.body.scrollTop = 0; // For Safari
            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera

            document.getElementById('teenModeHeader').classList.remove('hidden');
            document.getElementById('teenDashboard').classList.remove('hidden');
            showTeenDashboardScreen('main');
        }

        function handleMentorModeClick() {
            document.getElementById('sessions').scrollIntoView({ behavior: 'smooth' });
        }

        window.goBackToHome = function() {
            document.getElementById('teenModeHeader').classList.add('hidden');
            document.getElementById('teenDashboard').classList.add('hidden');
            
            document.querySelector('nav').classList.remove('hidden');
            document.getElementById('home').classList.remove('hidden');
            document.getElementById('sessions').classList.remove('hidden');
            document.getElementById('about').classList.remove('hidden');
            document.getElementById('modeSelection').classList.remove('hidden');
            document.getElementById('chatbotContainer').classList.remove('hidden');
        }

        window.showTeenDashboardScreen = function(screen) {
            document.getElementById('teenDashboardMain').classList.add('hidden');
            document.getElementById('codingChallengeGame').classList.add('hidden');
            document.getElementById('gameDesignIntroGame').classList.add('hidden');
            document.getElementById('aiCreativeLabGame').classList.add('hidden');

            if(screen === 'main') {
                document.getElementById('teenDashboardMain').classList.remove('hidden');
            } else if (screen === 'coding') {
                document.getElementById('codingChallengeGame').classList.remove('hidden');
            } else if (screen === 'gamedesign') {
                document.getElementById('gameDesignIntroGame').classList.remove('hidden');
            } else if (screen === 'creative') {
                document.getElementById('aiCreativeLabGame').classList.remove('hidden');
            }
        }

        // --- Teen Mode Modules ---

        async function showLoading(element, message) {
            element.innerHTML = `<div class="flex items-center justify-center"><i class="fas fa-spinner fa-spin text-2xl text-blue-500"></i><p class="ml-3">${message}</p></div>`;
        }

        // Coding Challenge
        window.submitCodeChallenge = async function() {
            if (!initializeAiFeatures()) return;
            const codeInput = document.getElementById('codeChallengeInput');
            const outputDiv = document.getElementById('codeChallengeOutput');
            const submitBtn = document.getElementById('submitCodeBtn');

            const userCode = codeInput.value.trim();
            if (!userCode) {
                outputDiv.textContent = 'Please enter your code before checking.';
                return;
            }

            submitBtn.disabled = true;
            await showLoading(outputDiv, "AI Tutor is reviewing your code...");

            const problem = "Write a Python function to check if a word is a palindrome."
            const prompt = `You are a friendly coding tutor for a 15-year-old. The user has submitted the following Python code for the problem: "${problem}". Their code is:\n\n\`\`\`python\n${userCode}\n\`\`\`\n\nPlease evaluate their code. If it's correct, congratulate them and explain why it works. If it's incorrect, provide a single, gentle hint on how to fix it, but do not give them the full answer. Keep your feedback concise and encouraging.`;

            try {
                const response = await ai.models.generateContent({
                    model: "gemini-2.5-flash",
                    contents: prompt,
                });
                outputDiv.textContent = response.text;
            } catch (error) {
                console.error("Error with code challenge:", error);
                outputDiv.textContent = "Sorry, the AI Tutor is busy right now. Please try again in a moment.";
            } finally {
                submitBtn.disabled = false;
            }
        }
        
        // Game Design Intro
        window.fetchGameDesignConcept = async function(topic) {
            if (!initializeAiFeatures()) return;
            const outputDiv = document.getElementById('gameDesignOutput');
            await showLoading(outputDiv, `Explaining ${topic}...`);
            
            const prompt = `Explain the game design concept of "${topic}" to a 15-year-old in a fun and simple way. Use analogies related to popular video games. Keep it under 200 words and use markdown for formatting.`;

            try {
                const response = await ai.models.generateContent({
                    model: "gemini-2.5-flash",
                    contents: prompt,
                });
                outputDiv.textContent = response.text;
            } catch (error) {
                console.error("Error fetching game design concept:", error);
                outputDiv.textContent = `Could not fetch info for ${topic}. Please try again.`;
            }
        }

        // AI Creative Lab
        window.generateAiContent = async function() {
            if (!initializeAiFeatures()) return;
            const type = document.getElementById('aiCreativeType').value;
            const promptInput = document.getElementById('aiCreativePrompt');
            const outputDiv = document.getElementById('aiCreativeLabOutput');
            const generateBtn = document.getElementById('generateAiContentBtn');

            const userPrompt = promptInput.value.trim();
            if (!userPrompt) {
                outputDiv.textContent = 'Please enter a prompt for your creation!';
                return;
            }

            generateBtn.disabled = true;
            await showLoading(outputDiv, 'Generating your masterpiece...');

            let systemInstruction = '';
            let finalPrompt = userPrompt;

            switch(type) {
                case 'game_concept':
                    systemInstruction = `Generate a unique video game concept based on the user's idea. Include a title, genre, a short summary of the gameplay, and a unique mechanic. Format the response clearly with headings.`;
                    break;
                case 'character_backstory':
                    systemInstruction = `Create a compelling character backstory for a video game character. Include their motivations, a key event in their past, and a personal flaw. Make it engaging for a teen audience.`;
                    break;
                case 'python_script':
                    systemInstruction = `You are a helpful coding assistant. Generate a simple, well-commented Python script for a beginner based on the user's request. The script should be easy to understand, accomplish a single task, and be enclosed in a markdown code block.`;
                    break;
            }

            try {
                 const response = await ai.models.generateContent({
                    model: "gemini-2.5-flash",
                    contents: finalPrompt,
                    config: { systemInstruction: systemInstruction },
                });
                outputDiv.textContent = response.text;
            } catch (error) {
                console.error("Error generating AI content:", error);
                outputDiv.textContent = 'Oops! My creative circuits are fizzling. Please try again.';
            } finally {
                generateBtn.disabled = false;
            }
        }


        // Initialize event listeners
        document.addEventListener('DOMContentLoaded', function() {
            initializeAiFeatures(); // Initial check on load
            // --- Theme Toggling ---
            const themeToggleBtn = document.getElementById('theme-toggle-btn');
            const themeToggleBtnMobile = document.getElementById('theme-toggle-btn-mobile');

            function updateThemeIcons() {
                const isDarkMode = document.documentElement.classList.contains('dark');
                const iconClass = isDarkMode ? 'fa-moon' : 'fa-sun';
                document.querySelectorAll('#theme-toggle-btn i, #theme-toggle-btn-mobile i').forEach(icon => {
                    icon.classList.remove('fa-sun', 'fa-moon');
                    icon.classList.add(iconClass);
                });
            }

            function handleThemeToggle() {
                const isDarkMode = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
                updateThemeIcons();
            }

            themeToggleBtn.addEventListener('click', handleThemeToggle);
            themeToggleBtnMobile.addEventListener('click', handleThemeToggle);
            updateThemeIcons(); // Set initial icon state on load
            // --- End Theme Toggling ---

            // --- Animations ---
            const animationObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('in-view');
                        // Optional: unobserve after animation to save resources
                        observer.unobserve(entry.target); 
                    }
                });
            }, { threshold: 0.1 });

            // Animate hero section on load
            const heroElements = document.querySelectorAll('#home .scroll-animate');
            heroElements.forEach((el, index) => {
                setTimeout(() => {
                    el.classList.add('in-view');
                }, index * 150);
            });
            
            // Observe all other animated elements
            const animatedElements = document.querySelectorAll('section:not(#home) .scroll-animate');
            animatedElements.forEach(el => animationObserver.observe(el));

            // Stagger animations
            const staggeredContainers = document.querySelectorAll('.stagger-children');
            staggeredContainers.forEach(container => {
                const children = container.querySelectorAll('.scroll-animate');
                children.forEach((child, index) => {
                    child.style.setProperty('--stagger-delay', `${index * 120}ms`);
                });
            });

            // --- End Animations ---

            // Chatbot event listeners
            document.getElementById('chatbotToggle').addEventListener('click', toggleChatbot);
            document.getElementById('chatbotClose').addEventListener('click', toggleChatbot);
            document.getElementById('chatbotSend').addEventListener('click', handleChatbotSend);
            document.getElementById('chatbotInput').addEventListener('keypress', handleChatbotKeyPress);
            
            // Mobile menu event listeners
            document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
            document.getElementById('mobileLoginBtn').addEventListener('click', () => showLoginModal());
            
            // Mode Selection
            document.getElementById('teenModeBtn').addEventListener('click', handleTeenModeClick);
            document.getElementById('mentorModeBtn').addEventListener('click', handleMentorModeClick);

            // Teen Mode Modules
            document.getElementById('submitCodeBtn').addEventListener('click', submitCodeChallenge);
            document.getElementById('generateAiContentBtn').addEventListener('click', generateAiContent);
            
            // Close mobile menu when clicking on links
            document.querySelectorAll('#mobileMenu a').forEach(link => {
                link.addEventListener('click', () => {
                    document.getElementById('mobileMenu').classList.add('hidden');
                    document.getElementById('mobileMenuBtn').innerHTML = '<i class="fas fa-bars text-xl"></i>';
                });
            });

             // User Profile Dropdown
            const userMenuButton = document.getElementById('userMenuButton');
            const userMenuDropdown = document.getElementById('userMenuDropdown');
            userMenuButton.addEventListener('click', () => {
                userMenuDropdown.classList.toggle('hidden');
            });
            // Close dropdown if clicked outside
            document.addEventListener('click', (event) => {
                if (!userMenuButton.contains(event.target) && !userMenuDropdown.classList.contains('hidden')) {
                     userMenuDropdown.classList.add('hidden');
                }
            });
        });

        window.showLoginModal = function(userType = 'student') {
            const modal = document.getElementById('loginModal');
            const userTypeSelect = document.getElementById('userType');
            userTypeSelect.value = userType;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        window.closeLoginModal = function() {
            const modal = document.getElementById('loginModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        function updateDashboardHeader() {
            if (!currentUser) return;

            const userMenuAvatar = document.getElementById('userMenuAvatar');
            const userMenuName = document.getElementById('userMenuName');
            
            userMenuName.textContent = currentUser.fullName;

            if (currentUser.profilePic) {
                userMenuAvatar.src = currentUser.profilePic;
            } else {
                // simple svg placeholder
                userMenuAvatar.src = `data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect width="100" height="100" fill="%23e2e8f0"/><text x="50" y="55" font-family="Arial" font-size="40" fill="%23718096" text-anchor="middle">${currentUser.fullName.charAt(0).toUpperCase()}</text></svg>`;
            }
        }


        window.logout = function() {
            currentUser = null;
            // Hide all dashboards
            document.getElementById('dashboard').classList.add('hidden');
            document.getElementById('teenDashboard').classList.add('hidden');
            document.getElementById('teenModeHeader').classList.add('hidden');
            
            // Show main page
            document.querySelector('nav').classList.remove('hidden');
            document.querySelector('section[id="home"]').classList.remove('hidden');
            document.querySelector('section[id="sessions"]').classList.remove('hidden');
            document.querySelector('section[id="modeSelection"]').classList.remove('hidden');
            const aboutToHide = document.querySelector('section[id="about"]');
            if (aboutToHide) aboutToHide.classList.remove('hidden');
        }

        document.getElementById('loginBtn').addEventListener('click', () => showLoginModal());

        window.showCreateSessionModal = function() {
            const modal = document.getElementById('createSessionModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('sessionDate').setAttribute('min', today);
        }

        window.closeCreateSessionModal = function() {
            const modal = document.getElementById('createSessionModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.getElementById('createSessionForm').reset();
        }
        
        // --- Profile Modal Logic ---
        window.openProfileModal = function() {
            if (!currentUser) return;
            
            // Populate the modal with current user data
            document.getElementById('profilePicPreview').src = document.getElementById('userMenuAvatar').src;
            document.getElementById('profileFullName').value = currentUser.fullName;
            document.getElementById('profileBio').value = currentUser.bio || '';
            
            // Populate interests
            renderInterests(currentUser.interests || []);

            const modal = document.getElementById('profileModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        window.closeProfileModal = function() {
            const modal = document.getElementById('profileModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }
        
        document.getElementById('profilePicInput').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('profilePicPreview').src = e.target.result;
                }
                reader.readAsDataURL(file);
            }
        });
        
        function renderInterests(interests) {
            const container = document.getElementById('profileInterestsContainer');
            container.innerHTML = '';
            interests.forEach(interest => {
                const tag = document.createElement('span');
                tag.className = 'interest-tag';
                tag.dataset.interestValue = interest;

                const textNode = document.createTextNode(interest);
                tag.appendChild(textNode);
                
                const removeBtn = document.createElement('button');
                removeBtn.type = 'button';
                removeBtn.className = 'interest-tag-remove';
                removeBtn.innerHTML = '&times;';
                removeBtn.setAttribute('aria-label', `Remove ${interest}`);
                removeBtn.onclick = () => {
                    const currentInterests = Array.from(container.querySelectorAll('.interest-tag')).map(t => t.dataset.interestValue);
                    const newInterests = currentInterests.filter(i => i !== interest);
                    renderInterests(newInterests);
                };
                
                tag.appendChild(removeBtn);
                container.appendChild(tag);
            });
        }

        document.getElementById('profileInterestsInput').addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                const input = event.target;
                const newInterest = input.value.trim();
                if (newInterest) {
                    const container = document.getElementById('profileInterestsContainer');
                    const currentInterests = Array.from(container.querySelectorAll('.interest-tag')).map(t => t.dataset.interestValue);
                    if (!currentInterests.includes(newInterest)) {
                        renderInterests([...currentInterests, newInterest]);
                    }
                    input.value = '';
                }
            }
        });
        
        document.getElementById('profileForm').addEventListener('submit', function(event) {
            event.preventDefault();

            // Gather data from the form
            currentUser.fullName = document.getElementById('profileFullName').value;
            currentUser.bio = document.getElementById('profileBio').value;
            currentUser.profilePic = document.getElementById('profilePicPreview').src;
            
            const interestsContainer = document.getElementById('profileInterestsContainer');
            currentUser.interests = Array.from(interestsContainer.querySelectorAll('.interest-tag')).map(tag => tag.dataset.interestValue);

            // Save to localStorage
            localStorage.setItem(`userProfile_${currentUser.email}`, JSON.stringify(currentUser));
            
            // Update UI
            updateDashboardHeader();
            closeProfileModal();
            
            alert('Profile updated successfully!');
        });


        // --- Video Call Logic ---
        let localStream = null;
        let isMicOn = true;
        let isCamOn = true;

        window.joinVideoCall = async function() {
            const videoCallPage = document.getElementById('videoCallPage');
            videoCallPage.classList.remove('hidden');
            videoCallPage.classList.add('flex');
            document.body.style.overflow = 'hidden'; // Prevent scrolling while in call

            try {
                localStream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                
                const userVideo = document.getElementById('userVideo');
                const userVideoContainer = document.getElementById('userVideoContainer');
                
                userVideo.srcObject = localStream;
                userVideoContainer.classList.remove('hidden');

                isMicOn = true;
                isCamOn = true;
                updateCallButtons();

            } catch (err) {
                console.error("Error accessing media devices.", err);
                alert("Could not access camera and microphone. Please check permissions and try again.");
                closeVideoCall();
            }
        }
        
        function closeVideoCall() {
            if (localStream) {
                localStream.getTracks().forEach(track => track.stop());
                localStream = null;
            }

            const videoCallPage = document.getElementById('videoCallPage');
            videoCallPage.classList.add('hidden');
            videoCallPage.classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        window.endCall = function() {
            // Directly close the call without confirmation for a smoother user experience.
            closeVideoCall();
        }

        window.toggleMicrophone = function() {
            if (!localStream) return;
            isMicOn = !isMicOn;
            localStream.getAudioTracks()[0].enabled = isMicOn;
            updateCallButtons();
        }

        window.toggleCamera = function() {
            if (!localStream) return;
            isCamOn = !isCamOn;
            localStream.getVideoTracks()[0].enabled = isCamOn;
            
            const userVideo = document.getElementById('userVideo');
            const userVideoPlaceholder = document.getElementById('userVideoPlaceholder');
            
            if (isCamOn) {
                userVideo.style.display = 'block';
                userVideoPlaceholder.style.display = 'none';
            } else {
                userVideo.style.display = 'none';
                userVideoPlaceholder.style.display = 'flex';
            }
            updateCallButtons();
        }

        function updateCallButtons() {
            const micBtn = document.getElementById('micBtn');
            const camBtn = document.getElementById('camBtn');
            
            micBtn.className = `w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center transition-colors ${isMicOn ? 'bg-gray-700 hover:bg-gray-600' : 'bg-red-600 hover:bg-red-700'}`;
            micBtn.innerHTML = `<i class="fas ${isMicOn ? 'fa-microphone' : 'fa-microphone-slash'} text-xl"></i>`;

            camBtn.className = `w-12 h-12 sm:w-14 sm:h-14 rounded-full flex items-center justify-center transition-colors ${isCamOn ? 'bg-gray-700 hover:bg-gray-600' : 'bg-red-600 hover:bg-red-700'}`;
            camBtn.innerHTML = `<i class="fas ${isCamOn ? 'fa-video' : 'fa-video-slash'} text-xl"></i>`;
        }

        // Code Compiler Functions
        window.runCode = function() {
            const code = document.getElementById('compilerCode').value;
            const language = document.getElementById('compilerLanguage').value;
            const output = document.getElementById('compilerOutput');
            
            // Simple JavaScript execution for demo
            if (language === 'javascript') {
                try {
                    // Capture console.log output
                    const originalLog = console.log;
                    let logOutput = '';
                    console.log = function(...args) {
                        logOutput += args.join(' ') + '\n';
                        originalLog.apply(console, args);
                    };
                    
                    // Execute the code
                    eval(code);
                    
                    // Restore console.log
                    console.log = originalLog;
                    
                    output.innerHTML = logOutput || 'Code executed successfully (no output)';
                } catch (error) {
                    output.innerHTML = `Error: ${error.message}`;
                }
            } else {
                output.innerHTML = `Language ${language} execution not implemented in demo. This would connect to a real compiler API.`;
            }
        }

        window.clearCode = function() {
            document.getElementById('compilerCode').value = '';
            document.getElementById('compilerOutput').innerHTML = '<div class="text-gray-500">Click "Run Code" to see output...</div>';
        }

        window.shareCodeInSession = function() {
            const code = document.getElementById('compilerCode').value;
            const language = document.getElementById('compilerLanguage').value;
            
            if (code.trim()) {
                alert('Code shared with session participants!');
            } else {
                alert('Please write some code before sharing.');
            }
        }

        window.saveCode = function() {
            const code = document.getElementById('compilerCode').value;
            const language = document.getElementById('compilerLanguage').value;
            
            if (code.trim()) {
                // In a real app, this would save to user's code library
                const codeData = {
                    code: code,
                    language: language,
                    timestamp: new Date().toISOString(),
                    session: 'Advanced Web Development'
                };
                
                // Store in localStorage for demo
                const savedCodes = JSON.parse(localStorage.getItem('savedCodes') || '[]');
                savedCodes.push(codeData);
                localStorage.setItem('savedCodes', JSON.stringify(savedCodes));
                
                alert('Code saved successfully!');
            } else {
                alert('Please write some code before saving.');
            }
        }
        
        window.openCompiler = function() {
            document.getElementById('compilerModal').classList.add('flex');
            document.getElementById('compilerModal').classList.remove('hidden');
        }

        window.closeCompiler = function() {
            document.getElementById('compilerModal').classList.add('hidden');
            document.getElementById('compilerModal').classList.remove('flex');
        }
        
        window.openCodeShare = function() {
            alert('Code sharing feature would open here. This would allow participants to share code snippets in real-time.');
        }

        // Translator Functions
        window.openTranslator = function() {
            const modal = document.getElementById('translatorModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        window.closeTranslator = function() {
            const modal = document.getElementById('translatorModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        window.translateText = function() {
            const text = document.getElementById('textToTranslate').value;
            const fromLang = document.getElementById('fromLanguage').value;
            const toLang = document.getElementById('toLanguage').value;
            const output = document.getElementById('translatedText');
            
            if (!text.trim()) {
                alert('Please enter text to translate');
                return;
            }
            
            // Demo translation (in real app, this would call a translation API)
            const translations = {
                'en-ar': 'مرحباً بك في BridgeLearn! نحن متحمسون لانضمامك إلى مجتمع التعلم لدينا.',
                'ar-en': 'Welcome to BridgeLearn! We are excited to have you join our learning community.',
                'en-hi': 'BridgeLearn में आपका स्वागत है! हमें आपके सीखने के समुदाय में शामिल होने पर खुशी है।',
                'hi-en': 'Welcome to BridgeLearn! We are excited to have you join our learning community.'
            };
            
            const key = `${fromLang}-${toLang}`;
            if (translations[key]) {
                output.value = translations[key];
            } else {
                output.value = `Translation from ${fromLang} to ${toLang} would appear here. This would connect to a real translation API.`;
            }
        }

        // Dictionary Functions
        window.openDictionary = function() {
            const modal = document.getElementById('dictionaryModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        window.closeDictionary = function() {
            const modal = document.getElementById('dictionaryModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        window.lookupWord = function() {
            const word = document.getElementById('dictionaryWord').value.trim();
            const result = document.getElementById('dictionaryResult');
            
            if (!word) {
                alert('Please enter a word to look up');
                return;
            }
            
            // Demo dictionary (in real app, this would call a dictionary API)
            const definitions = {
                'learn': 'To gain knowledge or understanding through study, experience, or teaching.',
                'bridge': 'A structure carrying a road, path, or railway across a river, road, or other obstacle.',
                'mentor': 'An experienced and trusted adviser who helps guide someone in their personal or professional development.',
                'community': 'A group of people living in the same place or having a particular characteristic in common.',
                'knowledge': 'Facts, information, and skills acquired through experience or education.'
            };
            
            const definition = definitions[word.toLowerCase()];
            if (definition) {
                result.innerHTML = `
                    <div class="mb-4">
                        <h3 class="text-xl font-semibold text-gray-800">${word}</h3>
                        <p class="text-gray-600">${definition}</p>
                    </div>
                `;
            } else {
                result.innerHTML = `
                    <div class="text-center text-gray-500">
                        <i class="fas fa-search text-4xl mb-2"></i>
                        <p>Definition for "${word}" not found in demo dictionary.</p>
                        <p class="text-sm">This would connect to a real dictionary API.</p>
                    </div>
                `;
            }
        }

        // Whiteboard Functions
        window.openWhiteboard = function() {
            const modal = document.getElementById('whiteboardModal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            initWhiteboard();
        }

        window.closeWhiteboard = function() {
            const modal = document.getElementById('whiteboardModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function initWhiteboard() {
            const canvas = document.getElementById('whiteboardCanvas');
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            
            // Set canvas size
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // Drawing functions
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            function startDrawing(e) {
                isDrawing = true;
                ctx.beginPath();
                ctx.moveTo(e.offsetX, e.offsetY);
            }
            
            function draw(e) {
                if (!isDrawing) return;
                ctx.lineTo(e.offsetX, e.offsetY);
                ctx.stroke();
            }
            
            function stopDrawing() {
                isDrawing = false;
            }
            
            // Set drawing style
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;
            ctx.lineCap = 'round';
        }

        window.clearWhiteboard = function() {
            const canvas = document.getElementById('whiteboardCanvas');
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        // Other Tool Functions
        window.openNotes = function() {
            alert('Notes feature would open here. This would allow participants to take and share notes during the session.');
        }

        window.openDesignBoard = function() {
            alert('Design board feature would open here. This would provide collaborative design tools for creative sessions.');
        }

        window.openColorPicker = function() {
            alert('Color picker feature would open here. This would provide color selection tools for design sessions.');
        }

        function displayUserSessions() {
            const sessionsContainer = document.getElementById('userSessions');
            
            if (userSessions.length === 0) {
                sessionsContainer.innerHTML = `
                    <div class=\"col-span-full text-center py-8 text-gray-500\">\n                        <i class=\"fas fa-calendar-plus text-4xl mb-4\"></i>\n                        <p data-i18n=\"dashboard.noSessions\">No sessions created yet. Click "Add New Session" to get started!</p>\n                    </div>
                `;
                // Re-apply translations for dynamic content
                applyTranslations(currentLang || (localStorage.getItem('lang') || 'en'));
                return;
            }
            
            sessionsContainer.innerHTML = userSessions.map(session => {
                const categoryIcons = {
                    'technology': 'fas fa-code',
                    'business': 'fas fa-chart-line',
                    'design': 'fas fa-paint-brush',
                    'finance': 'fas fa-dollar-sign',
                    'marketing': 'fas fa-bullhorn',
                    'health': 'fas fa-heartbeat',
                    'education': 'fas fa-graduation-cap',
                    'other': 'fas fa-star'
                };
                
                const typeColors = {
                    'offering': 'bg-green-50 text-green-600',
                    'requesting': 'bg-blue-50 text-blue-600'
                };
                
                const typeText = {
                    'offering': 'Offering',
                    'requesting': 'Requesting'
                };
                
                return `
                    <div class="border rounded-lg p-4 hover:shadow-md transition">
                        <div class="flex justify-between items-start mb-2">
                            <div class="flex items-center">
                                <i class="${categoryIcons[session.category] || 'fas fa-star'} text-lg mr-2 text-gray-600"></i>
                                <span class="px-2 py-1 text-xs rounded-full ${typeColors[session.type]}">
                                    ${typeText[session.type]}
                                </span>
                            </div>
                        </div>
                        <h4 class="font-semibold text-lg mb-2">${session.title}</h4>
                        <p class="text-gray-600 text-sm mb-3">${session.description}</p>
                        <div class="space-y-1 text-sm text-gray-500">
                            <div class="flex items-center">
                                <i class="fas fa-calendar mr-2"></i>
                                <span>${session.date}</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-clock mr-2"></i>
                                <span>${session.time} (${session.duration}h)</span>
                            </div>
                        </div>
                        <div class="mt-3 flex space-x-2">
                            <button onclick="editSession(${session.id})" class="flex-1 text-blue-600 hover:bg-blue-50 py-1 px-3 rounded text-sm transition">
                                <span data-i18n=\"actions.edit\">Edit</span>
                            </button>
                            <button onclick="deleteSession(${session.id})" class="flex-1 text-red-600 hover:bg-red-50 py-1 px-3 rounded text-sm transition">
                                <span data-i18n=\"actions.delete\">Delete</span>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
            // Re-apply translations for dynamic list
            applyTranslations(currentLang || (localStorage.getItem('lang') || 'en'));
        }

        window.editSession = function(sessionId) {
            alert('Edit functionality coming soon!');
        }

        window.deleteSession = function(sessionId) {
            if (confirm('Are you sure you want to delete this session?')) {
                userSessions = userSessions.filter(session => session.id !== sessionId);
                displayUserSessions();
            }
        }

        // Fix: Always close login modal after login (works for mobile and desktop)
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const userType = document.getElementById('userType').value;

            if (fullName && email) {
                // Check for existing profile in localStorage
                const savedProfile = localStorage.getItem(`userProfile_${email}`);
                if (savedProfile) {
                    currentUser = JSON.parse(savedProfile);
                    // Ensure name from login form is used if it's different,
                    // as the user might be logging in on a new device.
                    currentUser.fullName = fullName;
                    currentUser.userType = userType;
                } else {
                    currentUser = {
                        fullName,
                        email,
                        userType,
                        profilePic: null,
                        bio: '',
                        interests: []
                    };
                }

                // Hide main sections and show dashboard
                document.querySelector('nav').classList.add('hidden');
                document.querySelector('section[id="home"]').classList.add('hidden');
                document.querySelector('section[id="sessions"]').classList.add('hidden');
                document.querySelector('section[id="modeSelection"]').classList.add('hidden');
                const aboutToHide = document.querySelector('section[id="about"]');
                if (aboutToHide) aboutToHide.classList.add('hidden');
                document.getElementById('dashboard').classList.remove('hidden');

                // Update greeting
                updateDashboardHeader();

                // Display user sessions
                displayUserSessions();

                // Detect session type and show appropriate tools
                if (typeof detectSessionType === 'function') detectSessionType();

                // Always close login modal (fix for mobile)
                const loginModal = document.getElementById('loginModal');
                loginModal.classList.add('hidden');
                loginModal.classList.remove('flex');

                // Reset form
                document.getElementById('loginForm').reset();
            }
        });

        document.getElementById('createSessionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const sessionData = {
                id: Date.now(), // Simple ID generation
                title: document.getElementById('sessionTitle').value,
                description: document.getElementById('sessionDescription').value,
                category: document.getElementById('sessionCategory').value,
                date: document.getElementById('sessionDate').value,
                time: document.getElementById('sessionTime').value,
                duration: document.getElementById('sessionDuration').value,
                type: document.getElementById('sessionType').value,
                creator: currentUser.fullName,
                createdAt: new Date().toISOString()
            };
            
            userSessions.push(sessionData);
            displayUserSessions();
            closeCreateSessionModal();
            
            // Show success message
            alert('Session created successfully!');
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // --- Simple i18n ---
        let currentLang = 'en';
        const translations = {
            en: {
                'nav.home': 'Home',
                'nav.currentSession': 'Live Session',
                'nav.sessions': 'Sessions',
                'nav.about': 'About',
                'nav.login': 'Login',
                'hero.title': 'Bridge Generations Through Learning',
                'hero.tagline': 'Connect with experienced Emirati mentors and international professionals in the UAE. Share knowledge, preserve traditions, and build the future together.',
                'hero.ctaStudent': "I'm a Student",
                'hero.ctaMentor': "I'm a Mentor",
                'currentSession.title': 'Current Live Session',
                'currentSession.subtitle': 'Join our live learning session happening right now',
                'currentSession.joinNow': 'Join Now',
                'sessions.title': 'Featured Learning Sessions',
                'sessions.subtitle': 'Discover amazing learning opportunities from expert mentors around the world',
                'stats.activeMentors': 'Active Mentors',
                'stats.studentsLearning': 'Students Learning',
                'stats.countries': 'Countries Represented',
                'actions.bookSession': 'Book Session',
                'why.title': 'Why Choose BridgeLearn?',
                'actions.createSession': 'Create Session',
                'actions.addSession': 'Add New Session',
                'actions.edit': 'Edit',
                'actions.delete': 'Delete',
                'dashboard.mySessions': 'My Sessions',
                'dashboard.recentActivity': 'Recent Activity',
                'dashboard.activityBooked': 'New session booked',
                'dashboard.activityCompleted': 'Session completed',
                'dashboard.noSessions': 'No sessions created yet. Click "Add New Session" to get started!',
                'about.title': 'About BridgeLearn',
                'about.body': 'A platform connecting generations through knowledge sharing.',
                'login.title': 'Welcome to BridgeLearn',
                'login.subtitle': 'Enter your details to join the learning community',
                'login.fullName': 'Full Name',
                'login.email': 'Email',
                'login.iam': 'I am a:',
                'login.roleStudent': 'Student',
                'login.roleMentor': 'Retired Professional / Mentor',
                'login.submit': 'Get Started',
                'common.cancel': 'Cancel'
            },
            ar: {
                'nav.home': 'الرئيسية',
                'nav.currentSession': 'جلسة مباشرة',
                'nav.sessions': 'الجلسات ',
                'nav.about': ' من نحن',
                'nav.login': 'تسجيل الدخول',
                'hero.title': 'جسر الأجيال عبر التعلم',
                'hero.tagline': 'تواصل مع مرشدين إماراتيين محترفين وخبرات دولية في الإمارات. شارك المعرفة، واحفظ التقاليد، وابنِ المستقبل معًا.',
                'hero.ctaStudent': 'أنا طالب',
                'hero.ctaMentor': 'أنا مُرشد',
                'currentSession.title': 'الجلسة المباشرة الحالية',
                'currentSession.subtitle': 'انضم إلى جلسة التعلم المباشرة التي تحدث الآن',
                'currentSession.joinNow': 'انضم الآن',
                'sessions.title': 'جلسات تعليمية مميزة',
                'sessions.subtitle': 'اكتشف فرص تعلم مذهلة من خبراء حول العالم',
                'stats.activeMentors': 'مرشدون نشطون',
                'stats.studentsLearning': 'طلاب يتعلمون',
                'stats.countries': 'دول ممثلة',
                'actions.bookSession': 'احجز جلسة',
                'why.title': 'لماذا تختار BridgeLearn؟',
                'actions.createSession': 'إنشاء جلسة',
                'actions.addSession': 'إضافة جلسة جديدة',
                'actions.edit': 'تعديل',
                'actions.delete': 'حذف',
                'dashboard.mySessions': 'جلساتي',
                'dashboard.recentActivity': 'النشاط الأخير',
                'dashboard.activityBooked': 'تم حجز جلسة جديدة',
                'dashboard.activityCompleted': 'تم إكمال الجلسة',
                'dashboard.noSessions': 'لا توجد جلسات حتى الآن. انقر "إضافة جلسة جديدة" للبدء!',
                'about.title': 'حول BridgeLearn',
                'about.body': 'منصة تربط الأجيال من خلال تبادل المعرفة.',
                'login.title': 'مرحبًا بك في BridgeLearn',
                'login.subtitle': 'أدخل تفاصيلك للانضمام إلى مجتمع التعلم',
                'login.fullName': 'الاسم الكامل',
                'login.email': 'البريد الإلكتروني',
                'login.iam': 'أنا:',
                'login.roleStudent': 'طالب',
                'login.roleMentor': 'محترف متقاعد / مرشد',
                'login.submit': 'ابدأ الآن',
                'common.cancel': 'إلغاء'
            },
            hi: {
                'nav.home': 'होम',
                'nav.sessions': 'सेशंस',
                'nav.about': 'हमारे बारे में',
                'nav.login': 'लॉगिन',
                'hero.title': 'सीखने के माध्यम से पीढ़ियों को जोड़ें',
                'hero.tagline': 'यूएई में अनुभवी अमीराती मेंटर्स और अंतरराष्ट्रीय पेशेवरों से जुड़ें। ज्ञान साझा करें, परंपराओं को सहेजें, और मिलकर भविष्य बनाएं।',
                'hero.ctaStudent': 'मैं छात्र हूँ',
                'hero.ctaMentor': 'मैं मेंटर हूँ',
                'sessions.title': 'विशेष शिक्षण सत्र',
                'sessions.subtitle': 'दुनिया भर के विशेषज्ञ मेंटर्स से अद्भुत सीखने के अवसर खोजें',
                'stats.activeMentors': 'सक्रिय मेंटर्स',
                'stats.studentsLearning': 'सीखते हुए छात्र',
                'stats.countries': 'प्रतिनिधित्व करने वाले देश',
                'actions.bookSession': 'सेशन बुक करें',
                'why.title': 'BridgeLearn क्यों चुनें?',
                'actions.createSession': 'नया सेशन बनाएँ',
                'actions.addSession': 'नया सेशन जोड़ें',
                'actions.edit': 'संपादित करें',
                'actions.delete': 'हटाएँ',
                'dashboard.mySessions': 'मेरे सेशंस',
                'dashboard.recentActivity': 'हाल की गतिविधि',
                'dashboard.activityBooked': 'नया सेशन बुक किया गया',
                'dashboard.activityCompleted': 'सेशन पूरा हुआ',
                'dashboard.noSessions': 'अभी तक कोई सेशन नहीं बनाया गया। शुरू करने के लिए "नया सेशन जोड़ें" क्लिक करें!',
                'about.title': 'ब्रिजलर्न के बारे में',
                'about.body': 'ज्ञान साझा करने के माध्यम से पीढ़ियों को जोड़ने वाला मंच।',
                'login.title': 'BridgeLearn में आपका स्वागत है',
                'login.subtitle': 'Enter your details to join the learning community',
                'login.fullName': 'पूर्ण नाव',
                'login.email': 'ईमेल',
                'login.iam': 'मैं हूँ:',
                'login.roleStudent': 'छात्र',
                'login.roleMentor': 'सेवानिवृत्त प्रोफेशनल / मेंटर',
                'login.submit': 'शुरू करें',
                'common.cancel': 'रद्द करें'
            },
            ml: {
                'nav.home': 'ഹോം',
                'nav.sessions': 'സെഷനുകൾ',
                'nav.about': 'ഞങ്ങളെക്കുറിച്ച്',
                'nav.login': 'ലോഗിൻ',
                'hero.title': 'പഠനത്തിലൂടെ തലമുറകളെ ബന്ധിപ്പിക്കുക',
                'hero.tagline': 'യുഎഇയിലെ പരിചയസമ്പന്നരായ എമിറാത്തി മെന്റർമാരുമായും അന്താരാഷ്ട്ര പ്രൊഫഷണലുമായും ബന്ധപ്പെടുക. അറിവ് പങ്കിടുക, പാരമ്പര്യം സംരക്ഷിക്കുക, ഒരുമിച്ച് ഭാവി നിർമ്മിക്കുക.',
                'hero.ctaStudent': 'ഞാൻ വിദ്യാർത്ഥിയാണ്',
                'hero.ctaMentor': 'ഞാൻ മെന്ററാണ്',
                'sessions.title': 'പ്രമുഖ പഠന സെഷനുകൾ',
                'sessions.subtitle': 'ലോകമെമ്പാടുമുള്ള വിദഗ്ധ മെന്റർമാരിൽ നിന്ന് അതുല്യമായ പഠന അവസരങ്ങൾ കണ്ടെത്തുക',
                'stats.activeMentors': 'സജീവ മെന്റർമാർ',
                'stats.studentsLearning': 'പഠിക്കുന്ന വിദ്യാർത്ഥികൾ',
                'stats.countries': 'പ്രതിനിധ്യം ചെയ്യുന്ന രാജ്യങ്ങൾ',
                'actions.bookSession': 'സെഷൻ ബുക്ക് ചെയ്യുക',
                'why.title': 'എന്തുകൊണ്ട് BridgeLearn?',
                'actions.createSession': 'പുതിയ സെഷൻ സൃഷ്‌ടിക്കുക',
                'actions.addSession': 'പുതിയ സെഷൻ ചേർക്കുക',
                'actions.edit': 'തിരുത്തുക',
                'actions.delete': 'ഇല്ലാതാക്കുക',
                'dashboard.mySessions': 'എന്റെ സെഷനുകൾ',
                'dashboard.recentActivity': 'സമീപകാല പ്രവർത്തനം',
                'dashboard.activityBooked': 'പുതിയ സെഷൻ ബുക്ക് ചെയ്തു',
                'dashboard.activityCompleted': 'സെഷൻ പൂർത്തിയായി',
                'dashboard.noSessions': 'ഇതുവരെ ഒരു സെഷനും സൃഷ്ടിച്ചിട്ടില്ല. ആരംഭിക്കാൻ "പുതിയ സെഷൻ ചേർക്കുക" ക്ലിക്ക് ചെയ്യുക!',
                'about.title': 'ബ്രിഡ്ജ്‌ലേണിനെ കുറിച്ച്',
                'about.body': 'അറിവ് പങ്കിടുന്നതിലൂടെ തലമുറകളെ ബന്ധിപ്പിക്കുന്ന ഒരു പ്ലാറ്റ്‌ഫോം.',
                'login.title': 'BridgeLearn-ലേക്ക് സ്വാഗതം',
                'login.subtitle': 'ലേണിംഗ് കമ്മ്യൂണിറ്റിയിൽ ചേരാൻ നിങ്ങളുടെ വിവരങ്ങൾ നൽകുക',
                'login.fullName': 'പൂർണ്ണ പേര്',
                'login.email': 'ബെരുദ് ഇമെയിൽ',
                'login.iam': 'ഞാൻ:',
                'login.roleStudent': 'വിദ്യാർത്ഥി',
                'login.roleMentor': 'വിരമിച്ച നിപുണൻ / മാർഗ്ഗദർശകൻ',
                'login.submit': 'തുടങ്ങുക',
                'common.cancel': 'റദ്ദാക്കുക'
            },
            ta: {
                'nav.home': 'முகப்பு',
                'nav.sessions': 'அமர்வுகள்',
                'nav.about': 'எங்களை பற்றி',
                'nav.login': 'உள் நுழை',
                'hero.title': 'கற்றலின் மூலம் தலைமுறைகளை இணைப்போம்',
                'hero.tagline': 'ஐக்கிய அரபு அமீரகத்தில் அனுபவமுள்ள எமிராத்தி வழிகாட்டிகள் மற்றும் சர்வதேச நிபுணர்களுடன் இணைக. அறிவை பகிர்ந்து, பாரம்பரியங்களை காக்க, ஒன்றாக எதிர்காலத்தை உருவாக்கலாம்.',
                'hero.ctaStudent': 'நான் மாணவன்',
                'hero.ctaMentor': 'நான் வழிகாட்டி',
                'sessions.title': 'சிறப்பு கற்றல் அமர்வுகள்',
                'sessions.subtitle': 'உலகம் முழுவதும் உள்ள நிபுணர்களிடமிருந்து அற்புதமான கற்றல் வாய்ப்புகளை கண்டறியவும்',
                'stats.activeMentors': 'செயலில் உள்ள வழிகாட்டிகள்',
                'stats.studentsLearning': 'கற்றுக் கொண்டிருக்கும் மாணவர்கள்',
                'stats.countries': 'பிரதிநிதியம் செய்கின்ற நாடுகள்',
                'actions.bookSession': 'அமர்வு பதிவு',
                'why.title': 'ஏன் BridgeLearn?',
                'actions.createSession': 'புதிய அமர்வு உருவாக்கவும்',
                'actions.addSession': 'புதிய அமர்வைச் சேர்க்கவும்',
                'actions.edit': 'திருத்து',
                'actions.delete': 'அழி',
                'dashboard.mySessions': 'என் அமர்வுகள்',
                'dashboard.recentActivity': 'சமீபத்திய செயல்பாடு',
                'dashboard.activityBooked': 'கிருௌப்பில் புதிய அமர்வு பதிவு செய்யப்பட்டது',
                'dashboard.activityCompleted': 'அமர்வு முடிந்தது',
                'dashboard.noSessions': 'இன்னும் எந்த அமர்வும் உருவாக்கப்படவில்லை. தொடங்க "புதிய அமர்வைச் சேர்க்கவும்" கிளிக் செய்யவும்!',
                'about.title': 'BridgeLearn பற்றி',
                'about.body': 'அறிவைப் பகிர்வதன் மூலம் தலைமுறைகளை இணைக்கும் தளம்.',
                'login.title': 'BridgeLearn-க்கு வரவேற்கிறோம்',
                'login.subtitle': 'கற்றல் சமூகத்தில் சேர உங்கள் விவரங்களை உள்ளிடவும்',
                'login.fullName': 'முழு பெயர்',
                'login.email': 'மின்னஞ்சல்',
                'login.iam': 'நான்:',
                'login.roleStudent': 'மாணவர்',
                'login.roleMentor': 'விரமித்த நிபுணர் / வழிகாட்டி',
                'login.submit': 'தொடங்கவும்',
                'common.cancel': 'ரத்து'
            },
            te: {
                'nav.home': 'హోమ్',
                'nav.sessions': 'సెషన్లు',
                'nav.about': 'మన గురించి',
                'nav.login': 'లాగిన్',
                'hero.title': 'అభ్యాసం ద్వారా తరాలను అనుసంధానం చేయండి',
                'hero.tagline': 'యుఏఈలో అనుభవజ్ఞులైన ఎమిరాటి మెంటర్లు మరియు అంతర్జాతీయ నిపుణులతో కనెక్ట్ అవ్వండి. జ్ఞానాన్ని పంచుకోండి, సంప్రదాయాలను కాపాడండి, కలిసి భవిష్యత్తును నిర్మించండి.',
                'hero.ctaStudent': 'నేను విద్యార్థిని',
                'hero.ctaMentor': 'నేను మార్గదర్శిని',
                'sessions.title': 'ప్రత్యేక అభ్యాస సెషన్లు',
                'sessions.subtitle': 'ప్రపంచవ్యాప్తంగా ఉన్న నిపుణుల నుండి అద్భుతమైన అభ్యాస అవకాశాలను కనుగొనండి',
                'stats.activeMentors': 'సక్రియ మార్గదర్శకులు',
                'stats.studentsLearning': 'నేర్చుకుంటున్న విద్యార్థులు',
                'stats.countries': 'ప్రతినిధ్యం వహించే దేశాలు',
                'actions.bookSession': 'సెషన్ బుక్ చేయండి',
                'why.title': 'ఎందుకు BridgeLearn?',
                'actions.createSession': 'క్రొత్త సెషన్ సృష్టించండి',
                'actions.addSession': 'క్రొత్త సెషన్ జోడించండి',
                'actions.edit': 'సవరించండి',
                'actions.delete': 'తొలగించండి',
                'dashboard.mySessions': 'నా సెషన్లు',
                'dashboard.recentActivity': 'ఇటీవలి కార్యాచరణ',
                'dashboard.activityBooked': 'క్రొత్త సెషన్ బుక్ చేయబడింది',
                'dashboard.activityCompleted': 'సెషన్ పూర్తి అయింది',
                'dashboard.noSessions': 'ఇప్పటివరకు ఏ సెషన్ సృష్టించబడలేదు. ప్రారంభించడానికి "క్రొత్త సెషన్ జోడించండి" క్లిక్ చేయండి!',
                'about.title': 'BridgeLearn గురించి',
                'about.body': 'జ్ఞాన పంచుకోవడం ద్వారా తరాలను అనుసంధానించే వేదిక.',
                'login.title': 'BridgeLearn కు స్వాగతం',
                'login.subtitle': 'లెర్నింగ్ కమ్యూనిటీలో చేరడానికి మీ వివరాలను నమోదు చేయండి',
                'login.fullName': 'పూర్తి పేరు',
                'login.email': 'ఈమెయిల్',
                'login.iam': 'నేను:',
                'login.roleStudent': 'విద్యార్థి',
                'login.roleMentor': 'విరమించిన నిపుణుడు / మార్గదర్శి',
                'login.submit': 'ప్రారంభించండి',
                'common.cancel': 'రద్దు'
            }
        };

        function applyTranslations(lang) {
            const dict = translations[lang] || translations.en;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (dict[key]) {
                    if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                        el.placeholder = dict[key];
                    } else if (el.tagName === 'OPTION') {
                        el.textContent = dict[key];
                    } else {
                        el.textContent = dict[key];
                    }
                }
            });

            // Handle dir for RTL languages
            const rtl = lang === 'ar';
            document.documentElement.dir = rtl ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
        }

        function setLanguage(lang) {
            localStorage.setItem('lang', lang);
            currentLang = lang;
            // Sync dropdowns
            const desktop = document.getElementById('langSelect');
            const mobile = document.getElementById('langSelectMobile');
            if (desktop) desktop.value = lang;
            if (mobile) mobile.value = lang;
            applyTranslations(lang);
        }

        // Initialize language
        const savedLang = localStorage.getItem('lang') || 'en';
        setLanguage(savedLang);

        // Wire dropdowns
        const langSelect = document.getElementById('langSelect');
        const langSelectMobile = document.getElementById('langSelectMobile');
        if (langSelect) langSelect.addEventListener('change', (e) => setLanguage(e.target.value));
        if (langSelectMobile) langSelectMobile.addEventListener('change', (e) => setLanguage(e.target.value));
    </script>
</body>
</html>
